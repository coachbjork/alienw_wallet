import{s as Gt,y as Tt,i as M,d as f,h as bt,o as rl,e as _,j as E,c as p,a as b,k as $,l as S,m as d,f as i,q as pe,r as z,W as Ve,Y as ot,v as Rt,D as Ql,n as Te,t as ne,b as ae,g as De,w as Le,x as gl,p as on,M as un,N as cn,O as dn,P as $l,Q as fe,u as al}from"../chunks/scheduler.hY35lGQ3.js";import{S as xt,i as Ut,d as oe,g as pt,t as he,b as ht,c as Xe,a as Je,m as Qe,e as $e,f as fn,h as Be,j as We}from"../chunks/index.DHjZp5Ed.js";import{A as Bt,$ as r,c as ol,s as il,t as Ae,T as me,e as vt,b as Nl}from"../chunks/bundle-mjs.B5z_Z45O.js";import{P as Il,a as Rl}from"../chunks/public.zaQ0_H0Y.js";import{P as _n}from"../chunks/PlanetMenu.CqWWL-fF.js";import{c as en,_ as Wt,g as tn,a as ln,p as Ke}from"../chunks/session.IEwVtSgz.js";import{S as nn}from"../chunks/Spinner.CqsoEfkm.js";import{C as an}from"../chunks/CloseOutline.CNkmMu0A.js";import{c as He,s as _e,a as Me}from"../chunks/index.DKsCUv7B.js";import{A as pn}from"../chunks/Actions.g5RrwW-M.js";import{B as hn}from"../chunks/Badge.CnXvL5g8.js";import{h as sl,C as On}from"../chunks/CrosshairsSolid.BerUuk_A.js";async function Pn(a,e){const l=await en(a),t=[];for(const n of l){const s={index_position:3,key_type:"i64",from:String(n.proposal_id),to:String(n.proposal_id)};let o=await vn(e,s);o=o.map(c=>({vote_id:parseInt(c.vote_id),voter:String(c.voter),proposal_id:String(c.proposal_id),category_id:parseInt(c.category_id),vote:String(c.vote),delegatee:String(c.delegatee),comment_hash:String(c.comment_hash)})),t.push({proposal_id:String(n.proposal_id),proposer:String(n.proposer),arbiter:String(n.arbiter),content_hash:String(n.content_hash),proposal_pay:{contract:String(n.proposal_pay.contract),quantity:String(n.proposal_pay.quantity)},arbiter_pay:{contract:String(n.arbiter_pay.contract),quantity:String(n.arbiter_pay.quantity)},title:String(n.title),summary:String(n.summary),state:String(n.state),expiry:`${String(n.expiry)}Z`,job_duration:parseInt(n.job_duration),category:parseInt(n.category),arbiter_agreed:n.arbiter_agreed,votes:o})}return t}async function An(a){var t;const e=((t=Wt.find(Bt,n=>n.name===a))==null?void 0:t.scope)||"";return await tn(r.CONTRACT_NAME,e,r.TABLES.PROPOSALS)}async function mn(a,e){var s;const l=((s=Wt.find(Bt,o=>o.name===a))==null?void 0:s.scope)||"",t=await ln(r.CONTRACT_NAME,l,r.TABLES.PROPOSALS,e);return t?{proposal_id:String(t.proposal_id),proposer:String(t.proposer),arbiter:String(t.arbiter),content_hash:String(t.content_hash),proposal_pay:{contract:String(t.proposal_pay.contract),quantity:String(t.proposal_pay.quantity)},arbiter_pay:{contract:String(t.arbiter_pay.contract),quantity:String(t.arbiter_pay.quantity)},title:String(t.title),summary:String(t.summary),state:String(t.state),expiry:`${String(t.expiry)}Z`,job_duration:parseInt(t.job_duration),category:parseInt(t.category),arbiter_agreed:t.arbiter_agreed}:{}}async function vn(a,e){var o;const l=((o=Wt.find(Bt,c=>c.name===a))==null?void 0:o.scope)||"",t=await tn(r.CONTRACT_NAME,l,r.TABLES.PROPOSAL_VOTES,e);return(await en(t)).map(c=>({vote_id:parseInt(c.vote_id),voter:String(c.voter),proposal_id:String(c.proposal_id),category_id:parseInt(c.category_id),vote:String(c.vote),delegatee:String(c.delegatee),comment_hash:String(c.comment_hash)}))}async function Tn(a){var n;const e=((n=Wt.find(Bt,s=>s.name===a))==null?void 0:n.scope)||"",l=await ln(r.CONTRACT_NAME,e,r.TABLES.CONFIGS);return l?Object.assign.apply(null,l.data.map(s=>({[s.key]:parseInt(s.value[1])}))):{}}function Cl(a){let e,l,t,n,s="New Worker Proposal",o,c,u,g,v,x,T,A,V,N,y,U,I,j,H,m,D,w,L,R,C,G,B,F,K=`Upload document to IPFS via <a class="text-blue-500 underline" href="https://app.pinata.cloud/register" target="_blank">Pinata</a>
				then paste the hash here:`,X,h,O,P,Q,Z,ue,se,ve;v=new an({props:{class:"text-red-500 hover:cursor-pointer",size:"lg",strokeWidth:"3"}});const ce=[En,bn],Oe=[];function Ge(W,de){return W[1]?0:1}return Q=Ge(a),Z=Oe[Q]=ce[Q](a),{c(){e=_("div"),l=_("div"),t=_("div"),n=_("h2"),n.textContent=s,o=E(),c=_("div"),u=E(),g=_("div"),Xe(v.$$.fragment),x=E(),T=_("div"),A=_("input"),V=E(),N=_("input"),y=E(),U=_("div"),I=_("input"),j=E(),H=_("input"),m=E(),D=_("div"),w=_("input"),L=E(),R=_("input"),C=E(),G=_("textarea"),B=E(),F=_("label"),F.innerHTML=K,X=E(),h=_("input"),O=E(),P=_("div"),Z.c(),this.h()},l(W){e=p(W,"DIV",{class:!0});var de=b(e);l=p(de,"DIV",{class:!0});var te=b(l);t=p(te,"DIV",{class:!0});var be=b(t);n=p(be,"H2",{class:!0,"data-svelte-h":!0}),$(n)!=="svelte-t5hgzg"&&(n.textContent=s),o=S(be),c=p(be,"DIV",{class:!0}),b(c).forEach(f),u=S(be),g=p(be,"DIV",{});var Y=b(g);Je(v.$$.fragment,Y),Y.forEach(f),be.forEach(f),x=S(te),T=p(te,"DIV",{class:!0});var q=b(T);A=p(q,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),V=S(q),N=p(q,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),q.forEach(f),y=S(te),U=p(te,"DIV",{class:!0});var ke=b(U);I=p(ke,"INPUT",{class:!0,type:!0,placeholder:!0}),j=S(ke),H=p(ke,"INPUT",{class:!0,type:!0,placeholder:!0}),ke.forEach(f),m=S(te),D=p(te,"DIV",{class:!0});var ge=b(D);w=p(ge,"INPUT",{class:!0,type:!0,placeholder:!0}),L=S(ge),R=p(ge,"INPUT",{class:!0,type:!0,placeholder:!0}),ge.forEach(f),C=S(te),G=p(te,"TEXTAREA",{class:!0,placeholder:!0}),b(G).forEach(f),B=S(te),F=p(te,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),$(F)!=="svelte-3sw5o1"&&(F.innerHTML=K),X=S(te),h=p(te,"INPUT",{class:!0,type:!0,placeholder:!0}),O=S(te),P=p(te,"DIV",{class:!0});var xe=b(P);Z.l(xe),xe.forEach(f),te.forEach(f),de.forEach(f),this.h()},h(){d(n,"class","text-white underline decoration-white underline-offset-4"),d(c,"class","grow"),d(t,"class","mb-5 flex flex-row"),d(A,"id","title"),d(A,"class","text-black svelte-ypotvo"),d(A,"type","text"),d(A,"placeholder","Title"),d(N,"id","job_duration"),d(N,"class","text-black svelte-ypotvo"),d(N,"type","number"),d(N,"placeholder","Job Duration Seconds"),d(T,"class","flex flex-col md:flex-row md:gap-5"),d(I,"class","text-black svelte-ypotvo"),d(I,"type","text"),d(I,"placeholder","Proposer"),I.disabled=!0,d(H,"class","text-black svelte-ypotvo"),d(H,"type","text"),d(H,"placeholder","Arbiter"),d(U,"class","flex flex-col md:flex-row md:gap-5"),d(w,"class","text-black svelte-ypotvo"),d(w,"type","number"),d(w,"placeholder","Proposal Pay TLM"),d(R,"class","text-black svelte-ypotvo"),d(R,"type","number"),d(R,"placeholder","Arbiter Pay TLM"),d(D,"class","flex flex-col md:flex-row md:gap-5"),d(G,"class","text-black svelte-ypotvo"),d(G,"placeholder","Summary"),d(F,"for","file-upload"),d(F,"class","file-upload__label"),d(h,"class","text-black svelte-ypotvo"),d(h,"type","text"),d(h,"placeholder","IPFS HASH TO DOCUMENT WITH MORE INFO"),d(P,"class","mt-2"),d(l,"class","modal-content bg-background-default-lighter svelte-ypotvo"),d(e,"class","modal svelte-ypotvo")},m(W,de){M(W,e,de),i(e,l),i(l,t),i(t,n),i(t,o),i(t,c),i(t,u),i(t,g),Qe(v,g,null),i(l,x),i(l,T),i(T,A),pe(A,a[3]),i(T,V),i(T,N),pe(N,a[9]),i(l,y),i(l,U),i(U,I),pe(I,a[2]),i(U,j),i(U,H),pe(H,a[5]),i(l,m),i(l,D),i(D,w),pe(w,a[6]),i(D,L),i(D,R),pe(R,a[7]),i(l,C),i(l,G),pe(G,a[4]),i(l,B),i(l,F),i(l,X),i(l,h),pe(h,a[8]),i(l,O),i(l,P),Oe[Q].m(P,null),ue=!0,se||(ve=[z(g,"click",a[11]),z(A,"input",a[15]),z(N,"input",a[16]),z(I,"input",a[17]),z(H,"input",a[18]),z(w,"input",a[19]),z(R,"input",a[20]),z(G,"input",a[21]),z(G,"input",sn),z(G,"focusin",a[22]),z(G,"focusout",a[23]),z(h,"input",a[24]),z(l,"click",Ve(a[14]))],se=!0)},p(W,de){de&8&&A.value!==W[3]&&pe(A,W[3]),de&512&&ot(N.value)!==W[9]&&pe(N,W[9]),de&4&&I.value!==W[2]&&pe(I,W[2]),de&32&&H.value!==W[5]&&pe(H,W[5]),de&64&&ot(w.value)!==W[6]&&pe(w,W[6]),de&128&&ot(R.value)!==W[7]&&pe(R,W[7]),de&16&&pe(G,W[4]),de&256&&h.value!==W[8]&&pe(h,W[8]);let te=Q;Q=Ge(W),Q===te?Oe[Q].p(W,de):(pt(),he(Oe[te],1,1,()=>{Oe[te]=null}),ht(),Z=Oe[Q],Z?Z.p(W,de):(Z=Oe[Q]=ce[Q](W),Z.c()),oe(Z,1),Z.m(P,null))},i(W){ue||(oe(v.$$.fragment,W),oe(Z),ue=!0)},o(W){he(v.$$.fragment,W),he(Z),ue=!1},d(W){W&&f(e),$e(v),Oe[Q].d(),se=!1,Rt(ve)}}}function bn(a){let e,l="Create Proposal",t,n;return{c(){e=_("button"),e.textContent=l,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-103me0j"&&(e.textContent=l),this.h()},h(){d(e,"class","bg-green-500 text-white hover:bg-green-700 svelte-ypotvo")},m(s,o){M(s,e,o),t||(n=z(e,"click",a[10]),t=!0)},p:Te,i:Te,o:Te,d(s){s&&f(e),t=!1,n()}}}function En(a){let e,l,t="Uploading file...",n,s,o;return s=new nn({props:{color:"green"}}),{c(){e=_("div"),l=_("span"),l.textContent=t,n=E(),Xe(s.$$.fragment),this.h()},l(c){e=p(c,"DIV",{class:!0});var u=b(e);l=p(u,"SPAN",{class:!0,"data-svelte-h":!0}),$(l)!=="svelte-l9zzii"&&(l.textContent=t),n=S(u),Je(s.$$.fragment,u),u.forEach(f),this.h()},h(){d(l,"class","mb-2"),d(e,"class","flex flex-col items-center")},m(c,u){M(c,e,u),i(e,l),i(e,n),Qe(s,e,null),o=!0},p:Te,i(c){o||(oe(s.$$.fragment,c),o=!0)},o(c){he(s.$$.fragment,c),o=!1},d(c){c&&f(e),$e(s)}}}function Sn(a){let e,l,t=a[0]&&Cl(a);return{c(){t&&t.c(),e=Tt()},l(n){t&&t.l(n),e=Tt()},m(n,s){t&&t.m(n,s),M(n,e,s),l=!0},p(n,[s]){n[0]?t?(t.p(n,s),s&1&&oe(t,1)):(t=Cl(n),t.c(),oe(t,1),t.m(e.parentNode,e)):t&&(pt(),he(t,1,1,()=>{t=null}),ht())},i(n){l||(oe(t),l=!0)},o(n){he(t),l=!1},d(n){n&&f(e),t&&t.d(n)}}}function sn(a){a.target.style.height="auto",a.target.style.height=a.target.scrollHeight+"px"}function gn(a){a.target.style.height="auto"}function Nn(a,e,l){let t,n;bt(a,ol,h=>l(27,t=h)),bt(a,il,h=>l(28,n=h));let{isOpen:s=!1}=e,{onClose:o}=e,{onCreateProposal:c}=e,u=!1,g="",v=String(n==null?void 0:n.actor),x="",T="",A="",V=null,N=null,y="",U=null;rl(async()=>{await H(),l(2,v=String(n==null?void 0:n.actor))});async function I(){l(1,u=!0);let h={proposer:v,title:x,summary:T,arbiter:A,proposal_pay:V,arbiter_pay:N,content_hash:y,id:g,job_duration:U};if(x===""){Ae.add("Please enter a title",me.WARNING),l(1,u=!1);return}if(T===""){Ae.add("Please enter a summary",me.WARNING),l(1,u=!1);return}if(A===""){Ae.add("Please enter an arbiter",me.WARNING),l(1,u=!1);return}if(U===null){Ae.add("Please enter a job duration",me.WARNING),l(1,u=!1);return}V===null&&(h.proposal_pay=0),N===null&&(h.arbiter_pay=0),await c(h).then(async O=>{l(1,u=!1),O&&j()}).catch(async O=>{l(1,u=!1),console.error("Error:",O)})}async function j(){l(3,x=""),l(4,T=""),l(5,A=""),l(6,V=null),l(7,N=null),l(8,y=""),l(9,U=null),o(),await H()}async function H(){const h="12345abcdefghijklmnopqrstuvwxyz";let O="",P=!1;for(;!P;){O="";for(let Z=0;Z<12;Z++)O+=h.charAt(Math.floor(Math.random()*h.length));const Q=await mn(t.name,O);Q!=null&&Q.proposal_id||(P=!0)}g=O}function m(h){Ql.call(this,a,h)}function D(){x=this.value,l(3,x)}function w(){U=ot(this.value),l(9,U)}function L(){v=this.value,l(2,v)}function R(){A=this.value,l(5,A)}function C(){V=ot(this.value),l(6,V)}function G(){N=ot(this.value),l(7,N)}function B(){T=this.value,l(4,T)}const F=()=>sn(event),K=()=>gn(event);function X(){y=this.value,l(8,y)}return a.$$set=h=>{"isOpen"in h&&l(0,s=h.isOpen),"onClose"in h&&l(12,o=h.onClose),"onCreateProposal"in h&&l(13,c=h.onCreateProposal)},[s,u,v,x,T,A,V,N,y,U,I,j,o,c,m,D,w,L,R,C,G,B,F,K,X]}class In extends xt{constructor(e){super(),Ut(this,e,Nn,Sn,Gt,{isOpen:0,onClose:12,onCreateProposal:13})}}function kl(a){let e,l,t,n,s=a[1]?"Delegate Vote":"Undelegate Vote",o,c,u,g,v,x,T,A,V,N,y,U,I="Submit",j,H,m;x=new an({props:{class:"text-red-500 hover:cursor-pointer",size:"lg",strokeWidth:"3"}});let D=a[1]&&wl(a),w=a[1]&&a[4]==="proposal"&&Dl(a),L=(a[4]==="category"||!a[1])&&yl(a),R=a[1]&&Vl(a);return{c(){e=_("div"),l=_("div"),t=_("div"),n=_("h2"),o=ne(s),c=E(),u=_("div"),g=E(),v=_("div"),Xe(x.$$.fragment),T=E(),D&&D.c(),A=E(),w&&w.c(),V=E(),L&&L.c(),N=E(),R&&R.c(),y=E(),U=_("button"),U.textContent=I,this.h()},l(C){e=p(C,"DIV",{class:!0});var G=b(e);l=p(G,"DIV",{class:!0});var B=b(l);t=p(B,"DIV",{class:!0});var F=b(t);n=p(F,"H2",{class:!0});var K=b(n);o=ae(K,s),K.forEach(f),c=S(F),u=p(F,"DIV",{class:!0}),b(u).forEach(f),g=S(F),v=p(F,"DIV",{});var X=b(v);Je(x.$$.fragment,X),X.forEach(f),F.forEach(f),T=S(B),D&&D.l(B),A=S(B),w&&w.l(B),V=S(B),L&&L.l(B),N=S(B),R&&R.l(B),y=S(B),U=p(B,"BUTTON",{class:!0,"data-svelte-h":!0}),$(U)!=="svelte-9pgfga"&&(U.textContent=I),B.forEach(f),G.forEach(f),this.h()},h(){d(n,"class","text-white underline decoration-white underline-offset-4"),d(u,"class","flex-grow"),d(t,"class","mb-5 flex flex-row"),d(U,"class","bg-green-500 text-white hover:bg-green-700 svelte-15aemd9"),d(l,"class","modal-content bg-background-default-lighter svelte-15aemd9"),d(e,"class","modal svelte-15aemd9")},m(C,G){M(C,e,G),i(e,l),i(l,t),i(t,n),i(n,o),i(t,c),i(t,u),i(t,g),i(t,v),Qe(x,v,null),i(l,T),D&&D.m(l,null),i(l,A),w&&w.m(l,null),i(l,V),L&&L.m(l,null),i(l,N),R&&R.m(l,null),i(l,y),i(l,U),j=!0,H||(m=[z(v,"click",a[7]),z(U,"click",a[6]),z(l,"click",Ve(a[10])),z(e,"click",a[7])],H=!0)},p(C,G){(!j||G&2)&&s!==(s=C[1]?"Delegate Vote":"Undelegate Vote")&&De(o,s),C[1]?D?D.p(C,G):(D=wl(C),D.c(),D.m(l,A)):D&&(D.d(1),D=null),C[1]&&C[4]==="proposal"?w?w.p(C,G):(w=Dl(C),w.c(),w.m(l,V)):w&&(w.d(1),w=null),C[4]==="category"||!C[1]?L?L.p(C,G):(L=yl(C),L.c(),L.m(l,N)):L&&(L.d(1),L=null),C[1]?R?R.p(C,G):(R=Vl(C),R.c(),R.m(l,y)):R&&(R.d(1),R=null)},i(C){j||(oe(x.$$.fragment,C),j=!0)},o(C){he(x.$$.fragment,C),j=!1},d(C){C&&f(e),$e(x),D&&D.d(),w&&w.d(),L&&L.d(),R&&R.d(),H=!1,Rt(m)}}}function wl(a){let e,l,t="Mode:",n,s,o,c="Delegate by Proposal",u,g="Delegate by Category",v,x;return{c(){e=_("div"),l=_("label"),l.textContent=t,n=E(),s=_("select"),o=_("option"),o.textContent=c,u=_("option"),u.textContent=g,this.h()},l(T){e=p(T,"DIV",{class:!0});var A=b(e);l=p(A,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),$(l)!=="svelte-rtssfn"&&(l.textContent=t),n=S(A),s=p(A,"SELECT",{id:!0,class:!0});var V=b(s);o=p(V,"OPTION",{"data-svelte-h":!0}),$(o)!=="svelte-sif8fm"&&(o.textContent=c),u=p(V,"OPTION",{"data-svelte-h":!0}),$(u)!=="svelte-1gwm52y"&&(u.textContent=g),V.forEach(f),A.forEach(f),this.h()},h(){d(l,"for","delegateMode"),d(l,"class","mb-2 text-white"),o.__value=r.DELEGATE_MODE.PROPOSAL,pe(o,o.__value),u.__value=r.DELEGATE_MODE.CATEGORY,pe(u,u.__value),d(s,"id","delegateMode"),d(s,"class","rounded border border-gray-300 text-black"),a[4]===void 0&&Le(()=>a[11].call(s)),d(e,"class","mb-4 flex flex-col")},m(T,A){M(T,e,A),i(e,l),i(e,n),i(e,s),i(s,o),i(s,u),gl(s,a[4],!0),v||(x=z(s,"change",a[11]),v=!0)},p(T,A){A&16&&gl(s,T[4])},d(T){T&&f(e),v=!1,x()}}}function Dl(a){let e,l,t;return{c(){e=_("input"),this.h()},l(n){e=p(n,"INPUT",{class:!0,type:!0,placeholder:!0}),this.h()},h(){d(e,"class","text-black svelte-15aemd9"),d(e,"type","text"),d(e,"placeholder","Proposal ID")},m(n,s){M(n,e,s),pe(e,a[2]),l||(t=z(e,"input",a[12]),l=!0)},p(n,s){s&4&&e.value!==n[2]&&pe(e,n[2])},d(n){n&&f(e),l=!1,t()}}}function yl(a){let e,l,t;return{c(){e=_("input"),this.h()},l(n){e=p(n,"INPUT",{class:!0,type:!0,placeholder:!0}),this.h()},h(){d(e,"class","text-black svelte-15aemd9"),d(e,"type","number"),d(e,"placeholder","Category Num")},m(n,s){M(n,e,s),pe(e,a[5]),l||(t=z(e,"input",a[13]),l=!0)},p(n,s){s&32&&ot(e.value)!==n[5]&&pe(e,n[5])},d(n){n&&f(e),l=!1,t()}}}function Vl(a){let e,l,t;return{c(){e=_("input"),this.h()},l(n){e=p(n,"INPUT",{class:!0,type:!0,placeholder:!0}),this.h()},h(){d(e,"class","text-black svelte-15aemd9"),d(e,"type","text"),d(e,"placeholder","Delegatee")},m(n,s){M(n,e,s),pe(e,a[3]),l||(t=z(e,"input",a[14]),l=!0)},p(n,s){s&8&&e.value!==n[3]&&pe(e,n[3])},d(n){n&&f(e),l=!1,t()}}}function Rn(a){let e,l,t=a[0]&&kl(a);return{c(){t&&t.c(),e=Tt()},l(n){t&&t.l(n),e=Tt()},m(n,s){t&&t.m(n,s),M(n,e,s),l=!0},p(n,[s]){n[0]?t?(t.p(n,s),s&1&&oe(t,1)):(t=kl(n),t.c(),oe(t,1),t.m(e.parentNode,e)):t&&(pt(),he(t,1,1,()=>{t=null}),ht())},i(n){l||(oe(t),l=!0)},o(n){he(t),l=!1},d(n){n&&f(e),t&&t.d(n)}}}function Cn(a,e,l){let{isOpen:t=!1}=e,{isDelegate:n=!1}=e,{onClose:s}=e,{onDelegate:o}=e,c="",u="",g=r.DELEGATE_MODE.PROPOSAL,v="";async function x(){let I={};n?I={proposal_id:c,delegatee_custodian:u,delegate_mode:g,category:v}:I={category:v},await o(I).then(j=>{j&&T()})}function T(){l(2,c=""),l(3,u=""),l(4,g=r.DELEGATE_MODE.PROPOSAL),l(5,v=""),s()}function A(I){Ql.call(this,a,I)}function V(){g=on(this),l(4,g)}function N(){c=this.value,l(2,c)}function y(){v=ot(this.value),l(5,v)}function U(){u=this.value,l(3,u)}return a.$$set=I=>{"isOpen"in I&&l(0,t=I.isOpen),"isDelegate"in I&&l(1,n=I.isDelegate),"onClose"in I&&l(8,s=I.onClose),"onDelegate"in I&&l(9,o=I.onDelegate)},[t,n,c,u,g,v,x,T,s,o,A,V,N,y,U]}class kn extends xt{constructor(e){super(),Ut(this,e,Cn,Rn,Gt,{isOpen:0,isDelegate:1,onClose:8,onDelegate:9})}}function Ll(a){let e,l,t,n="New Proposal",s,o,c,u,g="Approve",v,x,T,A,V="Deny",N,y,U,I,j="Agree",H,m,D,w,L="Approve",R,C,G,B,F="Deny",K,X,h,O,P="Cancel",Q,Z,ue,se,ve="Start Work",ce,Oe,Ge,W,de="Complete",te,be,Y,q,ke="Dispute",ge,xe,et,Se,it="Finalize",st,ye,Fe,Re,nt="Clear",tt,lt,le,ze,Ot;return{c(){e=_("div"),l=_("div"),t=_("button"),t.textContent=n,c=E(),u=_("button"),u.textContent=g,T=E(),A=_("button"),A.textContent=V,U=E(),I=_("button"),I.textContent=j,D=E(),w=_("button"),w.textContent=L,G=E(),B=_("button"),B.textContent=F,h=E(),O=_("button"),O.textContent=P,ue=E(),se=_("button"),se.textContent=ve,Ge=E(),W=_("button"),W.textContent=de,Y=E(),q=_("button"),q.textContent=ke,et=E(),Se=_("button"),Se.textContent=it,Fe=E(),Re=_("button"),Re.textContent=nt,this.h()},l(k){e=p(k,"DIV",{class:!0});var Pe=b(e);l=p(Pe,"DIV",{class:!0});var re=b(l);t=p(re,"BUTTON",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-vahd6k"&&(t.textContent=n),c=S(re),u=p(re,"BUTTON",{class:!0,"data-svelte-h":!0}),$(u)!=="svelte-z8bt6d"&&(u.textContent=g),T=S(re),A=p(re,"BUTTON",{class:!0,"data-svelte-h":!0}),$(A)!=="svelte-1bl0osj"&&(A.textContent=V),U=S(re),I=p(re,"BUTTON",{class:!0,"data-svelte-h":!0}),$(I)!=="svelte-tm1a9v"&&(I.textContent=j),D=S(re),w=p(re,"BUTTON",{class:!0,"data-svelte-h":!0}),$(w)!=="svelte-1ctf3jb"&&(w.textContent=L),G=S(re),B=p(re,"BUTTON",{class:!0,"data-svelte-h":!0}),$(B)!=="svelte-knwy09"&&(B.textContent=F),h=S(re),O=p(re,"BUTTON",{class:!0,"data-svelte-h":!0}),$(O)!=="svelte-14c06kn"&&(O.textContent=P),ue=S(re),se=p(re,"BUTTON",{class:!0,"data-svelte-h":!0}),$(se)!=="svelte-sstaaq"&&(se.textContent=ve),Ge=S(re),W=p(re,"BUTTON",{class:!0,"data-svelte-h":!0}),$(W)!=="svelte-1sz9ruw"&&(W.textContent=de),Y=S(re),q=p(re,"BUTTON",{class:!0,"data-svelte-h":!0}),$(q)!=="svelte-19ara8b"&&(q.textContent=ke),et=S(re),Se=p(re,"BUTTON",{class:!0,"data-svelte-h":!0}),$(Se)!=="svelte-1qs7gol"&&(Se.textContent=it),Fe=S(re),Re=p(re,"BUTTON",{class:!0,"data-svelte-h":!0}),$(Re)!=="svelte-lddbzl"&&(Re.textContent=nt),re.forEach(f),Pe.forEach(f),this.h()},h(){d(t,"class","min-w-8 basis-1/4 rounded-xl bg-indigo-500 p-2 text-sm font-bold text-white hover:bg-indigo-700"),d(u,"class","min-w-8 basis-1/4 rounded-xl bg-green-500 p-2 text-sm font-bold text-white hover:bg-green-700"),fe(u,"hidden",!(a[0].includes(r.ACTIONS.VOTE_PROPOSAL)||a[0].includes(r.ACTIONS.VOTE_FINISH_PROPOSAL))),d(A,"class","min-w-8 basis-1/4 rounded-xl bg-red-500 p-2 text-sm font-bold text-white hover:bg-red-700"),fe(A,"hidden",!(a[0].includes(r.ACTIONS.VOTE_PROPOSAL)||a[0].includes(r.ACTIONS.VOTE_FINISH_PROPOSAL))),d(I,"class","min-w-8 basis-1/4 rounded-xl bg-blue-500 p-2 text-sm font-bold text-white hover:bg-green-700"),fe(I,"hidden",!a[0].includes(r.ACTIONS.ARBITATOR_AGREE)),d(w,"class","min-w-8 basis-1/4 rounded-xl bg-green-500 p-2 text-sm font-bold text-white hover:bg-green-700"),fe(w,"hidden",!a[0].includes(r.ACTIONS.ARBIRATOR_VOTE)),d(B,"class","min-w-8 basis-1/4 rounded-xl bg-red-500 p-2 text-sm font-bold text-white hover:bg-red-700"),fe(B,"hidden",!a[0].includes(r.ACTIONS.ARBIRATOR_VOTE)),d(O,"class","min-w-8 basis-1/4 rounded-xl bg-gray-500 p-2 text-sm font-bold text-white hover:bg-gray-700"),fe(O,"hidden",!(a[0].includes(r.ACTIONS.CANCEL_PROPOSAL)||a[0].includes(r.ACTIONS.CANCEL_WIP_PROPOSAL))),d(se,"class","min-w-8 basis-1/4 rounded-xl bg-blue-500 p-2 text-sm font-bold text-white hover:bg-blue-700"),fe(se,"hidden",!a[0].includes(r.ACTIONS.START_WORK)),d(W,"class","min-w-8 basis-1/4 rounded-xl bg-teal-500 p-2 text-sm font-bold text-white hover:bg-teal-700"),fe(W,"hidden",!a[0].includes(r.ACTIONS.COMPLETE_WORK)),d(q,"class","min-w-8 basis-1/4 rounded-xl bg-purple-500 p-2 text-sm font-bold text-white hover:bg-purple-700"),fe(q,"hidden",!a[0].includes(r.ACTIONS.DISPUTE_UNAPPROVED_PROPOSAL)),d(Se,"class","min-w-8 basis-1/4 rounded-xl bg-yellow-500 p-2 text-sm font-bold text-white hover:bg-yellow-700"),fe(Se,"hidden",!a[0].includes(r.ACTIONS.FINALIZE_PROPOSAL)),d(Re,"class","min-w-8 basis-1/4 rounded-xl bg-red-500 p-2 text-sm font-bold text-white hover:bg-red-700"),fe(Re,"hidden",!a[0].includes(r.ACTIONS.CLEAR_EXPIRED_PROPOSAL)),d(l,"class","mb-20 flex flex-row-reverse flex-wrap justify-center gap-1 p-2 backdrop-blur-sm"),d(e,"class","fixed bottom-0 left-0 right-0 z-50 content-end md:hidden"),fe(e,"inset-0",a[1])},m(k,Pe){M(k,e,Pe),i(e,l),i(l,t),i(l,c),i(l,u),i(l,T),i(l,A),i(l,U),i(l,I),i(l,D),i(l,w),i(l,G),i(l,B),i(l,h),i(l,O),i(l,ue),i(l,se),i(l,Ge),i(l,W),i(l,Y),i(l,q),i(l,et),i(l,Se),i(l,Fe),i(l,Re),le=!0,ze||(Ot=[z(t,"click",Ve(a[14])),z(u,"click",Ve(a[15])),z(A,"click",Ve(a[16])),z(I,"click",Ve(a[17])),z(w,"click",Ve(a[18])),z(B,"click",Ve(a[19])),z(O,"click",Ve(a[20])),z(se,"click",Ve(a[21])),z(W,"click",Ve(a[22])),z(q,"click",Ve(a[23])),z(Se,"click",Ve(a[24])),z(Re,"click",Ve(a[25])),z(e,"click",a[26])],ze=!0)},p(k,Pe){(!le||Pe[0]&1)&&fe(u,"hidden",!(k[0].includes(r.ACTIONS.VOTE_PROPOSAL)||k[0].includes(r.ACTIONS.VOTE_FINISH_PROPOSAL))),(!le||Pe[0]&1)&&fe(A,"hidden",!(k[0].includes(r.ACTIONS.VOTE_PROPOSAL)||k[0].includes(r.ACTIONS.VOTE_FINISH_PROPOSAL))),(!le||Pe[0]&1)&&fe(I,"hidden",!k[0].includes(r.ACTIONS.ARBITATOR_AGREE)),(!le||Pe[0]&1)&&fe(w,"hidden",!k[0].includes(r.ACTIONS.ARBIRATOR_VOTE)),(!le||Pe[0]&1)&&fe(B,"hidden",!k[0].includes(r.ACTIONS.ARBIRATOR_VOTE)),(!le||Pe[0]&1)&&fe(O,"hidden",!(k[0].includes(r.ACTIONS.CANCEL_PROPOSAL)||k[0].includes(r.ACTIONS.CANCEL_WIP_PROPOSAL))),(!le||Pe[0]&1)&&fe(se,"hidden",!k[0].includes(r.ACTIONS.START_WORK)),(!le||Pe[0]&1)&&fe(W,"hidden",!k[0].includes(r.ACTIONS.COMPLETE_WORK)),(!le||Pe[0]&1)&&fe(q,"hidden",!k[0].includes(r.ACTIONS.DISPUTE_UNAPPROVED_PROPOSAL)),(!le||Pe[0]&1)&&fe(Se,"hidden",!k[0].includes(r.ACTIONS.FINALIZE_PROPOSAL)),(!le||Pe[0]&1)&&fe(Re,"hidden",!k[0].includes(r.ACTIONS.CLEAR_EXPIRED_PROPOSAL)),(!le||Pe[0]&2)&&fe(e,"inset-0",k[1])},i(k){le||(k&&Le(()=>{le&&(o&&o.end(1),s=Be(t,_e,{axis:"y",duration:100,easing:He}),s.start())}),k&&Le(()=>{le&&(x&&x.end(1),v=Be(u,_e,{axis:"y",duration:100,easing:He}),v.start())}),k&&Le(()=>{le&&(y&&y.end(1),N=Be(A,_e,{axis:"y",duration:100,easing:He}),N.start())}),k&&Le(()=>{le&&(m&&m.end(1),H=Be(I,_e,{axis:"y",duration:100,easing:He}),H.start())}),k&&Le(()=>{le&&(C&&C.end(1),R=Be(w,_e,{axis:"y",duration:100,easing:He}),R.start())}),k&&Le(()=>{le&&(X&&X.end(1),K=Be(B,_e,{axis:"y",duration:100,easing:He}),K.start())}),k&&Le(()=>{le&&(Z&&Z.end(1),Q=Be(O,_e,{axis:"y",duration:100,easing:He}),Q.start())}),k&&Le(()=>{le&&(Oe&&Oe.end(1),ce=Be(se,_e,{axis:"y",duration:100,easing:He}),ce.start())}),k&&Le(()=>{le&&(be&&be.end(1),te=Be(W,_e,{axis:"y",duration:100,easing:He}),te.start())}),k&&Le(()=>{le&&(xe&&xe.end(1),ge=Be(q,_e,{axis:"y",duration:100,easing:He}),ge.start())}),k&&Le(()=>{le&&(ye&&ye.end(1),st=Be(Se,_e,{axis:"y",duration:100,easing:He}),st.start())}),k&&Le(()=>{le&&(lt&&lt.end(1),tt=Be(Re,_e,{axis:"y",duration:100,easing:He}),tt.start())}),le=!0)},o(k){s&&s.invalidate(),k&&(o=We(t,_e,{axis:"y",duration:100,easing:Me})),v&&v.invalidate(),k&&(x=We(u,_e,{axis:"y",duration:100,easing:Me})),N&&N.invalidate(),k&&(y=We(A,_e,{axis:"y",duration:100,easing:Me})),H&&H.invalidate(),k&&(m=We(I,_e,{axis:"y",duration:100,easing:Me})),R&&R.invalidate(),k&&(C=We(w,_e,{axis:"y",duration:100,easing:Me})),K&&K.invalidate(),k&&(X=We(B,_e,{axis:"y",duration:100,easing:Me})),Q&&Q.invalidate(),k&&(Z=We(O,_e,{axis:"y",duration:100,easing:Me})),ce&&ce.invalidate(),k&&(Oe=We(se,_e,{axis:"y",duration:100,easing:Me})),te&&te.invalidate(),k&&(be=We(W,_e,{axis:"y",duration:100,easing:Me})),ge&&ge.invalidate(),k&&(xe=We(q,_e,{axis:"y",duration:100,easing:Me})),st&&st.invalidate(),k&&(ye=We(Se,_e,{axis:"y",duration:100,easing:Me})),tt&&tt.invalidate(),k&&(lt=We(Re,_e,{axis:"y",duration:100,easing:Me})),le=!1},d(k){k&&f(e),k&&o&&o.end(),k&&x&&x.end(),k&&y&&y.end(),k&&m&&m.end(),k&&C&&C.end(),k&&X&&X.end(),k&&Z&&Z.end(),k&&Oe&&Oe.end(),k&&be&&be.end(),k&&xe&&xe.end(),k&&ye&&ye.end(),k&&lt&&lt.end(),ze=!1,Rt(Ot)}}}function wn(a){let e,l="Login to call actions";return{c(){e=_("p"),e.textContent=l,this.h()},l(t){e=p(t,"P",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-bvnls2"&&(e.textContent=l),this.h()},h(){d(e,"class","mt-5 text-center")},m(t,n){M(t,e,n)},p:Te,d(t){t&&f(e)}}}function Dn(a){let e,l,t="New Proposal",n,s=a[0].includes(r.ACTIONS.VOTE_PROPOSAL)||a[0].includes(r.ACTIONS.VOTE_FINISH_PROPOSAL),o,c=a[0].includes(r.ACTIONS.ARBITATOR_AGREE),u,g=a[0].includes(r.ACTIONS.ARBIRATOR_VOTE),v,x=a[0].includes(r.ACTIONS.CANCEL_PROPOSAL)||a[0].includes(r.ACTIONS.CANCEL_WIP_PROPOSAL),T,A=a[0].includes(r.ACTIONS.START_WORK),V,N=a[0].includes(r.ACTIONS.COMPLETE_WORK),y,U=a[0].includes(r.ACTIONS.DISPUTE_UNAPPROVED_PROPOSAL),I,j=a[0].includes(r.ACTIONS.FINALIZE_PROPOSAL),H,m=a[0].includes(r.ACTIONS.CLEAR_EXPIRED_PROPOSAL),D,w,L=s&&Gl(a),R=c&&xl(a),C=g&&Ul(a),G=x&&Bl(a),B=A&&Wl(a),F=N&&Hl(a),K=U&&Ml(a),X=j&&Fl(a),h=m&&zl(a);return{c(){e=_("div"),l=_("button"),l.textContent=t,n=E(),L&&L.c(),o=E(),R&&R.c(),u=E(),C&&C.c(),v=E(),G&&G.c(),T=E(),B&&B.c(),V=E(),F&&F.c(),y=E(),K&&K.c(),I=E(),X&&X.c(),H=E(),h&&h.c(),this.h()},l(O){e=p(O,"DIV",{class:!0});var P=b(e);l=p(P,"BUTTON",{class:!0,"data-svelte-h":!0}),$(l)!=="svelte-13f65cc"&&(l.textContent=t),n=S(P),L&&L.l(P),o=S(P),R&&R.l(P),u=S(P),C&&C.l(P),v=S(P),G&&G.l(P),T=S(P),B&&B.l(P),V=S(P),F&&F.l(P),y=S(P),K&&K.l(P),I=S(P),X&&X.l(P),H=S(P),h&&h.l(P),P.forEach(f),this.h()},h(){d(l,"class","m-1 min-w-32 grow rounded-xl bg-indigo-500 p-2 font-bold text-white hover:bg-indigo-700"),d(e,"class","mt-5 hidden max-w-32 flex-wrap justify-center md:flex")},m(O,P){M(O,e,P),i(e,l),i(e,n),L&&L.m(e,null),i(e,o),R&&R.m(e,null),i(e,u),C&&C.m(e,null),i(e,v),G&&G.m(e,null),i(e,T),B&&B.m(e,null),i(e,V),F&&F.m(e,null),i(e,y),K&&K.m(e,null),i(e,I),X&&X.m(e,null),i(e,H),h&&h.m(e,null),D||(w=z(l,"click",a[27]),D=!0)},p(O,P){P[0]&1&&(s=O[0].includes(r.ACTIONS.VOTE_PROPOSAL)||O[0].includes(r.ACTIONS.VOTE_FINISH_PROPOSAL)),s?L?L.p(O,P):(L=Gl(O),L.c(),L.m(e,o)):L&&(L.d(1),L=null),P[0]&1&&(c=O[0].includes(r.ACTIONS.ARBITATOR_AGREE)),c?R?R.p(O,P):(R=xl(O),R.c(),R.m(e,u)):R&&(R.d(1),R=null),P[0]&1&&(g=O[0].includes(r.ACTIONS.ARBIRATOR_VOTE)),g?C?C.p(O,P):(C=Ul(O),C.c(),C.m(e,v)):C&&(C.d(1),C=null),P[0]&1&&(x=O[0].includes(r.ACTIONS.CANCEL_PROPOSAL)||O[0].includes(r.ACTIONS.CANCEL_WIP_PROPOSAL)),x?G?G.p(O,P):(G=Bl(O),G.c(),G.m(e,T)):G&&(G.d(1),G=null),P[0]&1&&(A=O[0].includes(r.ACTIONS.START_WORK)),A?B?B.p(O,P):(B=Wl(O),B.c(),B.m(e,V)):B&&(B.d(1),B=null),P[0]&1&&(N=O[0].includes(r.ACTIONS.COMPLETE_WORK)),N?F?F.p(O,P):(F=Hl(O),F.c(),F.m(e,y)):F&&(F.d(1),F=null),P[0]&1&&(U=O[0].includes(r.ACTIONS.DISPUTE_UNAPPROVED_PROPOSAL)),U?K?K.p(O,P):(K=Ml(O),K.c(),K.m(e,I)):K&&(K.d(1),K=null),P[0]&1&&(j=O[0].includes(r.ACTIONS.FINALIZE_PROPOSAL)),j?X?X.p(O,P):(X=Fl(O),X.c(),X.m(e,H)):X&&(X.d(1),X=null),P[0]&1&&(m=O[0].includes(r.ACTIONS.CLEAR_EXPIRED_PROPOSAL)),m?h?h.p(O,P):(h=zl(O),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},d(O){O&&f(e),L&&L.d(),R&&R.d(),C&&C.d(),G&&G.d(),B&&B.d(),F&&F.d(),K&&K.d(),X&&X.d(),h&&h.d(),D=!1,w()}}}function Gl(a){let e,l="Approve",t,n,s="Deny",o,c;return{c(){e=_("button"),e.textContent=l,t=E(),n=_("button"),n.textContent=s,this.h()},l(u){e=p(u,"BUTTON",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1u57v5m"&&(e.textContent=l),t=S(u),n=p(u,"BUTTON",{class:!0,"data-svelte-h":!0}),$(n)!=="svelte-1sluqu0"&&(n.textContent=s),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-green-500 p-2 font-bold text-white hover:bg-green-700"),d(n,"class","m-1 min-w-32 grow rounded-xl bg-red-500 p-2 font-bold text-white hover:bg-red-700")},m(u,g){M(u,e,g),M(u,t,g),M(u,n,g),o||(c=[z(e,"click",a[28]),z(n,"click",a[29])],o=!0)},p:Te,d(u){u&&(f(e),f(t),f(n)),o=!1,Rt(c)}}}function xl(a){let e,l="Agree",t,n;return{c(){e=_("button"),e.textContent=l,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-4kvnd1"&&(e.textContent=l),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-blue-500 p-2 font-bold text-white hover:bg-green-700")},m(s,o){M(s,e,o),t||(n=z(e,"click",a[30]),t=!0)},p:Te,d(s){s&&f(e),t=!1,n()}}}function Ul(a){let e,l="Approve",t,n,s="Deny",o,c;return{c(){e=_("button"),e.textContent=l,t=E(),n=_("button"),n.textContent=s,this.h()},l(u){e=p(u,"BUTTON",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-5y6g91"&&(e.textContent=l),t=S(u),n=p(u,"BUTTON",{class:!0,"data-svelte-h":!0}),$(n)!=="svelte-1b5gxqz"&&(n.textContent=s),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-green-500 p-2 font-bold text-white hover:bg-green-700"),d(n,"class","m-1 min-w-32 grow rounded-xl bg-red-500 p-2 font-bold text-white hover:bg-red-700")},m(u,g){M(u,e,g),M(u,t,g),M(u,n,g),o||(c=[z(e,"click",a[31]),z(n,"click",a[32])],o=!0)},p:Te,d(u){u&&(f(e),f(t),f(n)),o=!1,Rt(c)}}}function Bl(a){let e,l="Cancel",t,n;return{c(){e=_("button"),e.textContent=l,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-ig76ar"&&(e.textContent=l),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-gray-500 p-2 font-bold text-white hover:bg-gray-700")},m(s,o){M(s,e,o),t||(n=z(e,"click",a[33]),t=!0)},p:Te,d(s){s&&f(e),t=!1,n()}}}function Wl(a){let e,l="Start Work",t,n;return{c(){e=_("button"),e.textContent=l,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-xr2ryn"&&(e.textContent=l),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-blue-500 p-2 font-bold text-white hover:bg-blue-700")},m(s,o){M(s,e,o),t||(n=z(e,"click",a[34]),t=!0)},p:Te,d(s){s&&f(e),t=!1,n()}}}function Hl(a){let e,l="Complete",t,n;return{c(){e=_("button"),e.textContent=l,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1ptlenk"&&(e.textContent=l),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-teal-500 p-2 font-bold text-white hover:bg-teal-700")},m(s,o){M(s,e,o),t||(n=z(e,"click",a[35]),t=!0)},p:Te,d(s){s&&f(e),t=!1,n()}}}function Ml(a){let e,l="Dispute",t,n;return{c(){e=_("button"),e.textContent=l,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1xqt8jt"&&(e.textContent=l),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-purple-500 p-2 font-bold text-white hover:bg-purple-700")},m(s,o){M(s,e,o),t||(n=z(e,"click",a[36]),t=!0)},p:Te,d(s){s&&f(e),t=!1,n()}}}function Fl(a){let e,l="Finalize",t,n;return{c(){e=_("button"),e.textContent=l,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-lzi2gb"&&(e.textContent=l),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-yellow-500 p-2 font-bold text-white hover:bg-yellow-700")},m(s,o){M(s,e,o),t||(n=z(e,"click",a[37]),t=!0)},p:Te,d(s){s&&f(e),t=!1,n()}}}function zl(a){let e,l="Clear",t,n;return{c(){e=_("button"),e.textContent=l,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-m2zeaa"&&(e.textContent=l),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-red-500 p-2 font-bold text-white hover:bg-red-700")},m(s,o){M(s,e,o),t||(n=z(e,"click",a[38]),t=!0)},p:Te,d(s){s&&f(e),t=!1,n()}}}function yn(a){let e,l,t=a[2]&&a[1]&&Ll(a);function n(c,u){return c[2]?Dn:wn}let s=n(a),o=s(a);return{c(){t&&t.c(),e=E(),o.c(),l=Tt()},l(c){t&&t.l(c),e=S(c),o.l(c),l=Tt()},m(c,u){t&&t.m(c,u),M(c,e,u),o.m(c,u),M(c,l,u)},p(c,u){c[2]&&c[1]?t?(t.p(c,u),u[0]&6&&oe(t,1)):(t=Ll(c),t.c(),oe(t,1),t.m(e.parentNode,e)):t&&(pt(),he(t,1,1,()=>{t=null}),ht()),s===(s=n(c))&&o?o.p(c,u):(o.d(1),o=s(c),o&&(o.c(),o.m(l.parentNode,l)))},d(c){c&&(f(e),f(l)),t&&t.d(c),o.d(c)}}}function Vn(a){let e,l,t;function n(o){a[39](o)}let s={$$slots:{default:[yn]},$$scope:{ctx:a}};return a[1]!==void 0&&(s.showActions=a[1]),e=new pn({props:s}),un.push(()=>fn(e,"showActions",n)),{c(){Xe(e.$$.fragment)},l(o){Je(e.$$.fragment,o)},m(o,c){Qe(e,o,c),t=!0},p(o,c){const u={};c[0]&7|c[1]&32768&&(u.$$scope={dirty:c,ctx:o}),!l&&c[0]&2&&(l=!0,u.showActions=o[1],cn(()=>l=!1)),e.$set(u)},i(o){t||(oe(e.$$.fragment,o),t=!0)},o(o){he(e.$$.fragment,o),t=!1},d(o){$e(e,o)}}}function Ln(a,e,l){let t,n;bt(a,il,Y=>l(2,t=Y)),bt(a,ol,Y=>l(40,n=Y));let{selectedProposal:s={}}=e,o=[];const c=dn();let u=!1;rl(async()=>{x()}),$l(async()=>{x()});function g(){c("new_proposal",{})}function v(){c("refresh")}function x(){if(s&&t)switch(l(0,o=[]),s.state){case r.PROP_STATE.PENDING_APPROVAL.value:case r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value:l(0,o=[]),o.push(r.ACTIONS.VOTE_PROPOSAL),s.proposer==t.actor&&(o.push(r.ACTIONS.CANCEL_PROPOSAL),o.push(r.ACTIONS.START_WORK)),s.arbiter==t.actor&&!s.arbiter_agreed&&o.push(r.ACTIONS.ARBITATOR_AGREE);break;case r.PROP_STATE.IN_PROGRESS.value:s.proposer==t.actor&&l(0,o=[r.ACTIONS.COMPLETE_WORK,r.ACTIONS.CANCEL_WIP_PROPOSAL]);break;case r.PROP_STATE.PENDING_FINALIZE.value:l(0,o=[r.ACTIONS.FINALIZE_PROPOSAL]),o.push(r.ACTIONS.VOTE_FINISH_PROPOSAL),s.proposer==t.actor&&(o.push(r.ACTIONS.CANCEL_WIP_PROPOSAL),o.push(r.ACTIONS.DISPUTE_UNAPPROVED_PROPOSAL));break;case r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value:l(0,o=[r.ACTIONS.FINALIZE_PROPOSAL]),o.push(r.ACTIONS.VOTE_FINISH_PROPOSAL);break;case r.PROP_STATE.DISPUTED.value:s.arbiter==t.actor&&l(0,o=[r.ACTIONS.ARBIRATOR_VOTE]);break;case r.PROP_STATE.EXPIRED.value:l(0,o=[r.ACTIONS.CLEAR_EXPIRED_PROPOSAL]);break;default:l(0,o=[]);break}else l(0,o=[])}async function T(Y){if(!t){Ae.add("Please login to vote",me.WARNING);return}let q="";switch(s.state){case r.PROP_STATE.PENDING_APPROVAL.value:case r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value:q=r.ACTIONS.VOTE_PROPOSAL;break;case r.PROP_STATE.PENDING_FINALIZE.value:case r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value:q=r.ACTIONS.FINALIZE_PROPOSAL;break;default:Ae.add("Proposal is not in a state to be voted on",me.WARNING);return}let ke=[{account:r.CONTRACT_NAME,name:q,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)},{actor:String(n.account),permission:"one"}],data:{custodian:t.actor,proposal_id:s.proposal_id,vote:Y,dac_id:n.scope}}];await Ke(t,ke).then(()=>{v()})}async function A(Y){if(!t){Ae.add("Please login to vote",me.WARNING);return}let q="";switch(Y){case r.VOTE.VOTE_APPROVE.value:q=r.ACTIONS.ARBIRATOR_APPROVE;break;case r.VOTE.VOTE_DENY.value:q=r.ACTIONS.ARBIRATOR_DENY;break;default:Ae.add("Error",me.WARNING);return}let ke=[{account:r.CONTRACT_NAME,name:q,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{arbiter:t.actor,proposal_id:s.proposal_id,dac_id:n.scope}}];await Ke(t,ke).then(()=>{v()})}async function V(){if(!t){Ae.add("Please login to vote",me.WARNING);return}let Y=r.ACTIONS.ARBITATOR_AGREE,q=[{account:r.CONTRACT_NAME,name:Y,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{arbiter:t.actor,proposal_id:s.proposal_id,dac_id:n.scope}}];await Ke(t,q).then(()=>{v()})}async function N(){if(!t){Ae.add("Please login to vote",me.WARNING);return}let Y="";switch(s.state){case r.PROP_STATE.PENDING_APPROVAL.value:case r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value:Y=r.ACTIONS.CANCEL_PROPOSAL;break;case r.PROP_STATE.PENDING_FINALIZE.value:case r.PROP_STATE.IN_PROGRESS.value:Y=r.ACTIONS.CANCEL_WIP_PROPOSAL;break;default:Ae.add("Proposal is not in a state to be canceled on",me.WARNING);return}let q=[{account:r.CONTRACT_NAME,name:Y,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{proposal_id:s.proposal_id,dac_id:n.scope}}];await Ke(t,q).then(()=>{v()})}async function y(){if(!t){Ae.add("Please login to vote",me.WARNING);return}let Y="";switch(s.state){case r.PROP_STATE.PENDING_APPROVAL.value:case r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value:Y=r.ACTIONS.START_WORK;break;default:Ae.add("Proposal is not in a state to start work",me.WARNING);return}let q=[{account:r.CONTRACT_NAME,name:Y,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{proposal_id:s.proposal_id,dac_id:n.scope}}];await Ke(t,q).then(()=>{v()})}async function U(){if(!t){Ae.add("Please login to vote",me.WARNING);return}let Y="";switch(s.state){case r.PROP_STATE.IN_PROGRESS.value:Y=r.ACTIONS.COMPLETE_WORK;break;default:Ae.add("Proposal is not in a state to complete work",me.WARNING);return}let q=[{account:r.CONTRACT_NAME,name:Y,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{proposal_id:s.proposal_id,dac_id:n.scope}}];await Ke(t,q).then(()=>{v()})}async function I(){if(!t){Ae.add("Please login to vote",me.WARNING);return}let Y="";switch(s.state){case r.PROP_STATE.PENDING_FINALIZE.value:Y=r.ACTIONS.DISPUTE_UNAPPROVED_PROPOSAL;break;default:Ae.add("Proposal is not in a state to dispute",me.WARNING);return}let q=[{account:r.CONTRACT_NAME,name:Y,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{proposal_id:s.proposal_id,dac_id:n.scope}}];await Ke(t,q).then(()=>{v()})}async function j(){if(!t){Ae.add("Please login to vote",me.WARNING);return}let Y="";switch(s.state){case r.PROP_STATE.PENDING_FINALIZE.value:case r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value:Y=r.ACTIONS.FINALIZE_PROPOSAL;break;default:Ae.add("Proposal is not in a state to finalize",me.WARNING);return}let q=[{account:r.CONTRACT_NAME,name:Y,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{proposal_id:s.proposal_id,dac_id:n.scope}}];await Ke(t,q).then(()=>{v()})}async function H(){if(!t){Ae.add("Please login to vote",me.WARNING);return}let Y="";switch(s.state){case r.PROP_STATE.EXPIRED.value:Y=r.ACTIONS.CLEAR_EXPIRED_PROPOSAL;break;default:Ae.add("Proposal is not in a state to finalize",me.WARNING);return}let q=[{account:r.CONTRACT_NAME,name:Y,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{proposal_id:s.proposal_id,dac_id:n.scope}}];await Ke(t,q).then(()=>{v()})}const m=()=>{l(1,u=!1),g()},D=()=>T(r.VOTE.VOTE_APPROVE.value),w=()=>T(r.VOTE.VOTE_DENY.value),L=()=>V(),R=()=>A(r.VOTE.VOTE_APPROVE.value),C=()=>A(r.VOTE.VOTE_DENY.value),G=()=>N(),B=()=>y(),F=()=>U(),K=()=>I(),X=()=>j(),h=()=>H(),O=()=>l(1,u=!1),P=()=>g(),Q=()=>T(r.VOTE.VOTE_APPROVE.value),Z=()=>T(r.VOTE.VOTE_DENY.value),ue=()=>V(),se=()=>A(r.VOTE.VOTE_APPROVE.value),ve=()=>A(r.VOTE.VOTE_DENY.value),ce=()=>N(),Oe=()=>y(),Ge=()=>U(),W=()=>I(),de=()=>j(),te=()=>H();function be(Y){u=Y,l(1,u)}return a.$$set=Y=>{"selectedProposal"in Y&&l(13,s=Y.selectedProposal)},[o,u,t,g,T,A,V,N,y,U,I,j,H,s,m,D,w,L,R,C,G,B,F,K,X,h,O,P,Q,Z,ue,se,ve,ce,Oe,Ge,W,de,te,be]}class Gn extends xt{constructor(e){super(),Ut(this,e,Ln,Vn,Gt,{selectedProposal:13},null,[-1,-1])}}function jl(a,e,l){const t=a.slice();return t[29]=e[l],t}function Yl(a,e,l){const t=a.slice();return t[32]=e[l],t}function ql(a,e,l){const t=a.slice();return t[32]=e[l],t}function xn(a){let e,l,t=vt(a[0]),n=[];for(let o=0;o<t.length;o+=1)n[o]=Jl(jl(a,t,o));const s=o=>he(n[o],1,1,()=>{n[o]=null});return{c(){e=_("div");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=p(o,"DIV",{class:!0});var c=b(e);for(let u=0;u<n.length;u+=1)n[u].l(c);c.forEach(f),this.h()},h(){d(e,"class","my-4 flex flex-col gap-6 md:my-5")},m(o,c){M(o,e,c);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);l=!0},p(o,c){if(c[0]&1580933){t=vt(o[0]);let u;for(u=0;u<t.length;u+=1){const g=jl(o,t,u);n[u]?(n[u].p(g,c),oe(n[u],1)):(n[u]=Jl(g),n[u].c(),oe(n[u],1),n[u].m(e,null))}for(pt(),u=t.length;u<n.length;u+=1)s(u);ht()}},i(o){if(!l){for(let c=0;c<t.length;c+=1)oe(n[c]);l=!0}},o(o){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)he(n[c]);l=!1},d(o){o&&f(e),al(n,o)}}}function Un(a){let e,l="No Data";return{c(){e=_("div"),e.textContent=l,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-kk2ddf"&&(e.textContent=l),this.h()},h(){d(e,"class","flex justify-center")},m(t,n){M(t,e,n)},p:Te,i:Te,o:Te,d(t){t&&f(e)}}}function Bn(a){let e,l,t;return l=new nn({props:{color:"purple"}}),{c(){e=_("div"),Xe(l.$$.fragment),this.h()},l(n){e=p(n,"DIV",{class:!0});var s=b(e);Je(l.$$.fragment,s),s.forEach(f),this.h()},h(){d(e,"class","flex justify-center")},m(n,s){M(n,e,s),Qe(l,e,null),t=!0},p:Te,i(n){t||(oe(l.$$.fragment,n),t=!0)},o(n){he(l.$$.fragment,n),t=!1},d(n){n&&f(e),$e(l)}}}function Zl(a){let e,l;return e=new On({props:{color:"#ecc94b",size:"24"}}),{c(){Xe(e.$$.fragment)},l(t){Je(e.$$.fragment,t)},m(t,n){Qe(e,t,n),l=!0},i(t){l||(oe(e.$$.fragment,t),l=!0)},o(t){he(e.$$.fragment,t),l=!1},d(t){$e(e,t)}}}function Wn(a){let e=a[8](a[29].state)+"",l;return{c(){l=ne(e)},l(t){l=ae(t,e)},m(t,n){M(t,l,n)},p(t,n){n[0]&1&&e!==(e=t[8](t[29].state)+"")&&De(l,e)},d(t){t&&f(l)}}}function Hn(a){let e,l="No Document";return{c(){e=_("span"),e.textContent=l,this.h()},l(t){e=p(t,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-rkfd58"&&(e.textContent=l),this.h()},h(){d(e,"class","text-white")},m(t,n){M(t,e,n)},p:Te,d(t){t&&f(e)}}}function Mn(a){let e,l,t;return{c(){e=_("a"),l=ne("Get File"),this.h()},l(n){e=p(n,"A",{class:!0,target:!0,href:!0});var s=b(e);l=ae(s,"Get File"),s.forEach(f),this.h()},h(){d(e,"class","text-blue-400 underline"),d(e,"target","_blank"),d(e,"href",t=`${Il}/ipfs/${a[29].content_hash}/?pinataGatewayToken=${Rl}`)},m(n,s){M(n,e,s),i(e,l)},p(n,s){s[0]&1&&t!==(t=`${Il}/ipfs/${n[29].content_hash}/?pinataGatewayToken=${Rl}`)&&d(e,"href",t)},d(n){n&&f(e)}}}function Kl(a){let e=a[32]+"",l,t;return{c(){l=ne(e),t=_("br")},l(n){l=ae(n,e),t=p(n,"BR",{})},m(n,s){M(n,l,s),M(n,t,s)},p(n,s){s[0]&1&&e!==(e=n[32]+"")&&De(l,e)},d(n){n&&(f(l),f(t))}}}function Xl(a){let e=a[32]+"",l,t;return{c(){l=ne(e),t=_("br")},l(n){l=ae(n,e),t=p(n,"BR",{})},m(n,s){M(n,l,s),M(n,t,s)},p(n,s){s[0]&1&&e!==(e=n[32]+"")&&De(l,e)},d(n){n&&(f(l),f(t))}}}function Fn(a){let e,l,t,n,s,o,c=a[10](a[29])+"",u,g,v,x,T,A=a[11](a[29])+"",V;return{c(){e=_("div"),l=E(),t=_("div"),n=_("div"),s=ne("Approved by: "),o=_("span"),u=ne(c),g=E(),v=_("div"),x=ne("Denied by: "),T=_("span"),V=ne(A),this.h()},l(N){e=p(N,"DIV",{class:!0}),b(e).forEach(f),l=S(N),t=p(N,"DIV",{class:!0});var y=b(t);n=p(y,"DIV",{class:!0});var U=b(n);s=ae(U,"Approved by: "),o=p(U,"SPAN",{class:!0});var I=b(o);u=ae(I,c),I.forEach(f),U.forEach(f),g=S(y),v=p(y,"DIV",{class:!0});var j=b(v);x=ae(j,"Denied by: "),T=p(j,"SPAN",{class:!0});var H=b(T);V=ae(H,A),H.forEach(f),j.forEach(f),y.forEach(f),this.h()},h(){d(e,"class","mx-auto mt-5 border-t-2 border-dotted border-gray-500 md:w-2/3"),d(o,"class","text-white"),d(n,"class","text-sm md:text-base"),d(T,"class","text-white"),d(v,"class","mt-1 text-sm md:text-base"),d(t,"class","mt-2 text-start")},m(N,y){M(N,e,y),M(N,l,y),M(N,t,y),i(t,n),i(n,s),i(n,o),i(o,u),i(t,g),i(t,v),i(v,x),i(v,T),i(T,V)},p(N,y){y[0]&1&&c!==(c=N[10](N[29])+"")&&De(u,c),y[0]&1&&A!==(A=N[11](N[29])+"")&&De(V,A)},d(N){N&&(f(e),f(l),f(t))}}}function zn(a){let e;return{c(){e=_("div")},l(l){e=p(l,"DIV",{}),b(e).forEach(f)},m(l,t){M(l,e,t)},p:Te,d(l){l&&f(e)}}}function Jl(a){var fl,_l,pl,hl,Ol;let e,l,t,n,s,o,c,u,g,v=a[29].proposal_id+"",x,T,A,V,N,y,U=a[9](a[29])+"",I,j,H,m,D,w,L=a[29].proposer+"",R,C,G,B,F,K=a[29].proposal_pay.quantity+"",X,h,O,P,Q,Z,ue,se,ve,ce=a[29].arbiter+"",Oe,Ge,W,de,te=a[29].arbiter_agreed?"Agreed":"Waiting",be,Y,q,ke,ge,xe,et,Se=a[29].arbiter_pay.quantity+"",it,st,ye,Fe,Re,nt,tt=sl(`${a[29].expiry}`).format("YYYY-MM-DD HH:mm:ss")+"",lt,le,ze,Ot,k,Pe=a[12](a[29].job_duration)+"",re,Ht,Et,Mt,rt,ut,Ft,ct,zt,dt,jt,ft,Yt,Ct,qt,St,Zt,we,Kt,ul,Ee=a[2]&&a[2].proposal_id==((fl=a[29])==null?void 0:fl.proposal_id)&&Zl();V=new hn({props:{color:a[20](a[29].state),$$slots:{default:[Wn]},$$scope:{ctx:a}}});function cl(J,ee){return J[29].content_hash?Mn:Hn}let kt=cl(a),je=kt(a),Pt=vt((pl=(_l=a[29])==null?void 0:_l.title)==null?void 0:pl.split(`
`)),Ne=[];for(let J=0;J<Pt.length;J+=1)Ne[J]=Kl(ql(a,Pt,J));let At=vt((Ol=(hl=a[29])==null?void 0:hl.summary)==null?void 0:Ol.split(`
`)),Ie=[];for(let J=0;J<At.length;J+=1)Ie[J]=Xl(Yl(a,At,J));function dl(J,ee){return J[29].state==r.PROP_STATE.EXPIRED.value||J[29].state==r.PROP_STATE.DISPUTED.value?zn:Fn}let wt=dl(a),Ye=wt(a);function rn(){return a[21](a[29])}return{c(){e=_("button"),l=_("div"),Ee&&Ee.c(),t=E(),n=_("div"),s=_("div"),o=_("div"),c=_("div"),u=ne("#: "),g=_("span"),x=ne(v),T=E(),A=_("div"),Xe(V.$$.fragment),N=E(),y=_("div"),I=ne(U),j=E(),H=_("div"),m=_("div"),D=ne("Proposer: "),w=_("span"),R=ne(L),C=E(),G=_("div"),B=ne("Proposer Pay: "),F=_("span"),X=ne(K),h=E(),O=_("div"),P=ne(`Document:
											`),je.c(),Q=E(),Z=_("div"),ue=_("div"),se=ne("Arbiter: "),ve=_("span"),Oe=ne(ce),Ge=E(),W=_("span"),de=ne("("),be=ne(te),Y=ne(")"),ke=E(),ge=_("div"),xe=ne("Arbiter Pay: "),et=_("span"),it=ne(Se),st=E(),ye=_("div"),Fe=_("div"),Re=ne("Expired At: "),nt=_("span"),lt=ne(tt),le=E(),ze=_("div"),Ot=ne("Duration: "),k=_("span"),re=ne(Pe),Ht=E(),Et=_("div"),Mt=E(),rt=_("div"),ut=_("div"),Ft=ne("Title: "),ct=_("span");for(let J=0;J<Ne.length;J+=1)Ne[J].c();zt=E(),dt=_("div"),jt=ne("Summary: "),ft=_("span");for(let J=0;J<Ie.length;J+=1)Ie[J].c();Yt=E(),Ye.c(),qt=E(),St=_("div"),Zt=E(),this.h()},l(J){e=p(J,"BUTTON",{class:!0});var ee=b(e);l=p(ee,"DIV",{class:!0});var Ce=b(l);Ee&&Ee.l(Ce),Ce.forEach(f),t=S(ee),n=p(ee,"DIV",{class:!0});var qe=b(n);s=p(qe,"DIV",{class:!0});var Ze=b(s);o=p(Ze,"DIV",{class:!0});var at=b(o);c=p(at,"DIV",{class:!0});var mt=b(c);u=ae(mt,"#: "),g=p(mt,"SPAN",{class:!0});var gt=b(g);x=ae(gt,v),gt.forEach(f),mt.forEach(f),T=S(at),A=p(at,"DIV",{class:!0});var Nt=b(A);Je(V.$$.fragment,Nt),Nt.forEach(f),N=S(at),y=p(at,"DIV",{class:!0});var ie=b(y);I=ae(ie,U),ie.forEach(f),at.forEach(f),j=S(Ze),H=p(Ze,"DIV",{class:!0});var Ue=b(H);m=p(Ue,"DIV",{class:!0});var Xt=b(m);D=ae(Xt,"Proposer: "),w=p(Xt,"SPAN",{class:!0});var Pl=b(w);R=ae(Pl,L),Pl.forEach(f),Xt.forEach(f),C=S(Ue),G=p(Ue,"DIV",{class:!0});var Jt=b(G);B=ae(Jt,"Proposer Pay: "),F=p(Jt,"SPAN",{class:!0});var Al=b(F);X=ae(Al,K),Al.forEach(f),Jt.forEach(f),h=S(Ue),O=p(Ue,"DIV",{class:!0});var Qt=b(O);P=ae(Qt,`Document:
											`),je.l(Qt),Qt.forEach(f),Ue.forEach(f),Q=S(Ze),Z=p(Ze,"DIV",{class:!0});var Dt=b(Z);ue=p(Dt,"DIV",{class:!0});var It=b(ue);se=ae(It,"Arbiter: "),ve=p(It,"SPAN",{class:!0});var ml=b(ve);Oe=ae(ml,ce),ml.forEach(f),Ge=S(It),W=p(It,"SPAN",{class:!0});var yt=b(W);de=ae(yt,"("),be=ae(yt,te),Y=ae(yt,")"),yt.forEach(f),It.forEach(f),ke=S(Dt),ge=p(Dt,"DIV",{class:!0});var $t=b(ge);xe=ae($t,"Arbiter Pay: "),et=p($t,"SPAN",{class:!0});var vl=b(et);it=ae(vl,Se),vl.forEach(f),$t.forEach(f),Dt.forEach(f),st=S(Ze),ye=p(Ze,"DIV",{class:!0});var Vt=b(ye);Fe=p(Vt,"DIV",{class:!0});var el=b(Fe);Re=ae(el,"Expired At: "),nt=p(el,"SPAN",{class:!0});var Tl=b(nt);lt=ae(Tl,tt),Tl.forEach(f),el.forEach(f),le=S(Vt),ze=p(Vt,"DIV",{class:!0});var tl=b(ze);Ot=ae(tl,"Duration: "),k=p(tl,"SPAN",{class:!0});var bl=b(k);re=ae(bl,Pe),bl.forEach(f),tl.forEach(f),Vt.forEach(f),Ze.forEach(f),Ht=S(qe),Et=p(qe,"DIV",{class:!0}),b(Et).forEach(f),Mt=S(qe),rt=p(qe,"DIV",{class:!0});var Lt=b(rt);ut=p(Lt,"DIV",{class:!0});var ll=b(ut);Ft=ae(ll,"Title: "),ct=p(ll,"SPAN",{class:!0});var El=b(ct);for(let _t=0;_t<Ne.length;_t+=1)Ne[_t].l(El);El.forEach(f),ll.forEach(f),zt=S(Lt),dt=p(Lt,"DIV",{class:!0});var nl=b(dt);jt=ae(nl,"Summary: "),ft=p(nl,"SPAN",{class:!0});var Sl=b(ft);for(let _t=0;_t<Ie.length;_t+=1)Ie[_t].l(Sl);Sl.forEach(f),nl.forEach(f),Lt.forEach(f),Yt=S(qe),Ye.l(qe),qe.forEach(f),qt=S(ee),St=p(ee,"DIV",{class:!0}),b(St).forEach(f),Zt=S(ee),ee.forEach(f),this.h()},h(){var J;d(l,"class","w-8 flex-none place-self-center"),d(g,"class","text-base font-semibold text-white underline md:text-lg"),d(c,"class","text-sm md:text-base"),d(A,"class","mt-1 text-sm md:text-base"),d(y,"class","mt-1 text-sm md:text-base"),d(o,"class","mb-3 flex basis-full flex-col md:mb-0 md:basis-2/12"),d(w,"class","text-base font-semibold text-white md:text-lg"),d(m,"class","text-sm md:text-base"),d(F,"class","text-white"),d(G,"class","mt-1 text-sm md:text-base"),d(O,"class","mt-1 text-sm md:text-base"),d(H,"class","mb-3 flex basis-full flex-col md:mb-0 md:basis-3/12"),d(ve,"class","text-base font-semibold text-white md:text-lg"),d(W,"class",q=`${a[29].arbiter_agreed?"text-green-400":"text-yellow-400"}`),d(ue,"class","text-sm md:text-base"),d(et,"class","text-white"),d(ge,"class","mt-1 text-sm md:text-base"),d(Z,"class","mb-3 flex basis-full flex-col md:mb-0 md:basis-3/12"),d(nt,"class","text-white"),d(Fe,"class","text-sm md:text-base"),d(k,"class","text-white"),d(ze,"class","mt-1 text-sm md:text-base"),d(ye,"class","flex basis-full flex-col md:basis-3/12"),d(s,"class","mx-auto flex basis-full flex-col justify-between text-start md:flex-row md:gap-4"),d(Et,"class","mx-auto mt-5 border-t-2 border-dotted border-gray-500 md:w-2/3"),d(ct,"class","text-white"),d(ut,"class","text-sm md:text-base"),d(ft,"class","text-white"),d(dt,"class","mt-1 text-sm md:text-base"),d(rt,"class","mt-2 basis-full text-start"),d(n,"class",Ct=`basis-full whitespace-normal break-words break-all 
								rounded-2xl border border-solid
								p-4 shadow-md md:p-5
								 ${a[19](a[29].state)} 
								${a[29].proposal_id==((J=a[2])==null?void 0:J.proposal_id)?"backdrop-brightness-200":"backdrop-brightness-125"} `),d(St,"class","w-8 flex-none place-self-center"),d(e,"class","flex flex-row p-1")},m(J,ee){M(J,e,ee),i(e,l),Ee&&Ee.m(l,null),i(e,t),i(e,n),i(n,s),i(s,o),i(o,c),i(c,u),i(c,g),i(g,x),i(o,T),i(o,A),Qe(V,A,null),i(o,N),i(o,y),i(y,I),i(s,j),i(s,H),i(H,m),i(m,D),i(m,w),i(w,R),i(H,C),i(H,G),i(G,B),i(G,F),i(F,X),i(H,h),i(H,O),i(O,P),je.m(O,null),i(s,Q),i(s,Z),i(Z,ue),i(ue,se),i(ue,ve),i(ve,Oe),i(ue,Ge),i(ue,W),i(W,de),i(W,be),i(W,Y),i(Z,ke),i(Z,ge),i(ge,xe),i(ge,et),i(et,it),i(s,st),i(s,ye),i(ye,Fe),i(Fe,Re),i(Fe,nt),i(nt,lt),i(ye,le),i(ye,ze),i(ze,Ot),i(ze,k),i(k,re),i(n,Ht),i(n,Et),i(n,Mt),i(n,rt),i(rt,ut),i(ut,Ft),i(ut,ct);for(let Ce=0;Ce<Ne.length;Ce+=1)Ne[Ce]&&Ne[Ce].m(ct,null);i(rt,zt),i(rt,dt),i(dt,jt),i(dt,ft);for(let Ce=0;Ce<Ie.length;Ce+=1)Ie[Ce]&&Ie[Ce].m(ft,null);i(n,Yt),Ye.m(n,null),i(e,qt),i(e,St),i(e,Zt),we=!0,Kt||(ul=z(e,"click",rn),Kt=!0)},p(J,ee){var qe,Ze,at,mt,gt,Nt;a=J,a[2]&&a[2].proposal_id==((qe=a[29])==null?void 0:qe.proposal_id)?Ee?ee[0]&5&&oe(Ee,1):(Ee=Zl(),Ee.c(),oe(Ee,1),Ee.m(l,null)):Ee&&(pt(),he(Ee,1,1,()=>{Ee=null}),ht()),(!we||ee[0]&1)&&v!==(v=a[29].proposal_id+"")&&De(x,v);const Ce={};if(ee[0]&1&&(Ce.color=a[20](a[29].state)),ee[0]&1|ee[1]&64&&(Ce.$$scope={dirty:ee,ctx:a}),V.$set(Ce),(!we||ee[0]&1)&&U!==(U=a[9](a[29])+"")&&De(I,U),(!we||ee[0]&1)&&L!==(L=a[29].proposer+"")&&De(R,L),(!we||ee[0]&1)&&K!==(K=a[29].proposal_pay.quantity+"")&&De(X,K),kt===(kt=cl(a))&&je?je.p(a,ee):(je.d(1),je=kt(a),je&&(je.c(),je.m(O,null))),(!we||ee[0]&1)&&ce!==(ce=a[29].arbiter+"")&&De(Oe,ce),(!we||ee[0]&1)&&te!==(te=a[29].arbiter_agreed?"Agreed":"Waiting")&&De(be,te),(!we||ee[0]&1&&q!==(q=`${a[29].arbiter_agreed?"text-green-400":"text-yellow-400"}`))&&d(W,"class",q),(!we||ee[0]&1)&&Se!==(Se=a[29].arbiter_pay.quantity+"")&&De(it,Se),(!we||ee[0]&1)&&tt!==(tt=sl(`${a[29].expiry}`).format("YYYY-MM-DD HH:mm:ss")+"")&&De(lt,tt),(!we||ee[0]&1)&&Pe!==(Pe=a[12](a[29].job_duration)+"")&&De(re,Pe),ee[0]&1){Pt=vt((at=(Ze=a[29])==null?void 0:Ze.title)==null?void 0:at.split(`
`));let ie;for(ie=0;ie<Pt.length;ie+=1){const Ue=ql(a,Pt,ie);Ne[ie]?Ne[ie].p(Ue,ee):(Ne[ie]=Kl(Ue),Ne[ie].c(),Ne[ie].m(ct,null))}for(;ie<Ne.length;ie+=1)Ne[ie].d(1);Ne.length=Pt.length}if(ee[0]&1){At=vt((gt=(mt=a[29])==null?void 0:mt.summary)==null?void 0:gt.split(`
`));let ie;for(ie=0;ie<At.length;ie+=1){const Ue=Yl(a,At,ie);Ie[ie]?Ie[ie].p(Ue,ee):(Ie[ie]=Xl(Ue),Ie[ie].c(),Ie[ie].m(ft,null))}for(;ie<Ie.length;ie+=1)Ie[ie].d(1);Ie.length=At.length}wt===(wt=dl(a))&&Ye?Ye.p(a,ee):(Ye.d(1),Ye=wt(a),Ye&&(Ye.c(),Ye.m(n,null))),(!we||ee[0]&5&&Ct!==(Ct=`basis-full whitespace-normal break-words break-all 
								rounded-2xl border border-solid
								p-4 shadow-md md:p-5
								 ${a[19](a[29].state)} 
								${a[29].proposal_id==((Nt=a[2])==null?void 0:Nt.proposal_id)?"backdrop-brightness-200":"backdrop-brightness-125"} `))&&d(n,"class",Ct)},i(J){we||(oe(Ee),oe(V.$$.fragment,J),we=!0)},o(J){he(Ee),he(V.$$.fragment,J),we=!1},d(J){J&&f(e),Ee&&Ee.d(),$e(V),je.d(),al(Ne,J),al(Ie,J),Ye.d(),Kt=!1,ul()}}}function jn(a){let e,l,t,n,s,o,c,u,g,v,x,T,A,V,N,y,U;t=new _n({});const I=[Bn,Un,xn],j=[];function H(m,D){return m[1]?0:m[0].length==0?1:2}return o=H(a),c=j[o]=I[o](a),T=new Gn({props:{selectedProposal:a[2]}}),T.$on("new_proposal",a[13]),T.$on("delegatevote",a[14]),T.$on("refresh",a[6]),V=new In({props:{isOpen:a[3],onClose:a[16],onCreateProposal:a[15]}}),y=new kn({props:{isOpen:a[4],isDelegate:a[5],onClose:a[18],onDelegate:a[17]}}),{c(){e=_("div"),l=_("div"),Xe(t.$$.fragment),n=E(),s=_("div"),c.c(),u=E(),g=_("div"),v=E(),x=_("div"),Xe(T.$$.fragment),A=E(),Xe(V.$$.fragment),N=E(),Xe(y.$$.fragment),this.h()},l(m){e=p(m,"DIV",{class:!0});var D=b(e);l=p(D,"DIV",{class:!0});var w=b(l);Je(t.$$.fragment,w),n=S(w),s=p(w,"DIV",{class:!0});var L=b(s);c.l(L),L.forEach(f),w.forEach(f),D.forEach(f),u=S(m),g=p(m,"DIV",{class:!0}),b(g).forEach(f),v=S(m),x=p(m,"DIV",{class:!0});var R=b(x);Je(T.$$.fragment,R),R.forEach(f),A=S(m),Je(V.$$.fragment,m),N=S(m),Je(y.$$.fragment,m),this.h()},h(){d(s,"class","mt-10 overflow-x-auto"),d(l,"class","container relative overflow-x-hidden"),d(e,"class","main-content py-6"),d(g,"class","left-side md:flex"),d(x,"class","right-side md:flex")},m(m,D){M(m,e,D),i(e,l),Qe(t,l,null),i(l,n),i(l,s),j[o].m(s,null),M(m,u,D),M(m,g,D),M(m,v,D),M(m,x,D),Qe(T,x,null),M(m,A,D),Qe(V,m,D),M(m,N,D),Qe(y,m,D),U=!0},p(m,D){let w=o;o=H(m),o===w?j[o].p(m,D):(pt(),he(j[w],1,1,()=>{j[w]=null}),ht(),c=j[o],c?c.p(m,D):(c=j[o]=I[o](m),c.c()),oe(c,1),c.m(s,null));const L={};D[0]&4&&(L.selectedProposal=m[2]),T.$set(L);const R={};D[0]&8&&(R.isOpen=m[3]),V.$set(R);const C={};D[0]&16&&(C.isOpen=m[4]),D[0]&32&&(C.isDelegate=m[5]),y.$set(C)},i(m){U||(oe(t.$$.fragment,m),oe(c),oe(T.$$.fragment,m),oe(V.$$.fragment,m),oe(y.$$.fragment,m),U=!0)},o(m){he(t.$$.fragment,m),he(c),he(T.$$.fragment,m),he(V.$$.fragment,m),he(y.$$.fragment,m),U=!1},d(m){m&&(f(e),f(u),f(g),f(v),f(x),f(A),f(N)),$e(t),j[o].d(),$e(T),$e(V,m),$e(y,m)}}}function Yn(a,e,l){let t,n;bt(a,il,h=>l(25,t=h)),bt(a,ol,h=>l(26,n=h));let s=[],o=!0,c=n,u=null,g={},v=null,x=!1,T=!1,A=!1;rl(async()=>{Promise.all([N(),y()]).then(()=>{l(1,o=!1)})}),$l(async()=>{c!==n&&(c=n,l(2,u=null),l(1,o=!0),l(0,s=[]),Promise.all([N(),y()]).then(()=>{l(1,o=!1)}))});async function V(){l(2,u=null),l(1,o=!0),l(0,s=[]),Promise.all([N(),y()]).then(()=>{l(1,o=!1)})}async function N(){const h=await An(n.name);if(!h)return;v=h;let O=await Pn(v,n.name);O&&l(0,s=O)}async function y(){let h=await Tn(n.name);h&&(g=h)}function U(h){if(u&&u.proposal_id==h.proposal_id){l(2,u=null);return}else l(2,u=h)}function I(h){switch(h){case r.PROP_STATE.PENDING_APPROVAL.value:return r.PROP_STATE.PENDING_APPROVAL.name;case r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value:return r.PROP_STATE.HAS_ENOUGH_APP_VOTES.name;case r.PROP_STATE.IN_PROGRESS.value:return r.PROP_STATE.IN_PROGRESS.name;case r.PROP_STATE.PENDING_FINALIZE.value:return r.PROP_STATE.PENDING_FINALIZE.name;case r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value:return r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.name;case r.PROP_STATE.EXPIRED.value:return r.PROP_STATE.EXPIRED.name;case r.PROP_STATE.DISPUTED.value:return r.PROP_STATE.DISPUTED.name;default:return"Unknown"}}function j(h){return h.state==r.PROP_STATE.PENDING_APPROVAL.value||h.state==r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value||h.state==r.PROP_STATE.IN_PROGRESS.value?`(${h.votes.filter(P=>P.vote==r.VOTE.VOTE_PROP_APPROVE.value).length}/${g.proposal_threshold})`:h.state==r.PROP_STATE.PENDING_FINALIZE.value||h.state==r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value?`(${h.votes.filter(P=>P.vote==r.VOTE.VOTE_FINAL_APPROVE.value).length}/${g.finalize_threshold})`:""}function H(h){return h.state==r.PROP_STATE.PENDING_APPROVAL.value||h.state==r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value||h.state==r.PROP_STATE.IN_PROGRESS.value?h.votes.filter(P=>P.vote==r.VOTE.VOTE_PROP_APPROVE.value).map(P=>P.voter).join(", "):h.state==r.PROP_STATE.PENDING_FINALIZE.value||h.state==r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value?h.votes.filter(P=>P.vote==r.VOTE.VOTE_FINAL_APPROVE.value).map(P=>P.voter).join(", "):""}function m(h){return h.state==r.PROP_STATE.PENDING_APPROVAL.value||h.state==r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value||h.state==r.PROP_STATE.IN_PROGRESS.value?h.votes.filter(P=>P.vote==r.VOTE.VOTE_PROP_DENY.value).map(P=>P.voter).join(", "):h.state==r.PROP_STATE.PENDING_FINALIZE.value||h.state==r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value?h.votes.filter(P=>P.vote==r.VOTE.VOTE_FINAL_DENY.value).map(P=>P.voter).join(", "):""}function D(h){let O=sl.duration(h,"seconds"),P=O.years(),Q=O.months(),Z=O.days(),ue=O.hours(),se=O.minutes(),ve=O.seconds(),ce="";return P>0&&(ce+=P+"Y "),Q>0&&(ce+=Q+"M "),Z>0&&(ce+=Z+"D "),ue>0&&(ce+=ue+"h "),se>0&&(ce+=se+"m "),ve>0&&(ce+=ve+"s"),ce}function w(h){l(3,x=!0)}function L(h){var O;l(4,T=!0),l(5,A=(O=h==null?void 0:h.detail)==null?void 0:O.is_delegate)}async function R(h){if(!t){Ae.add("Please login to vote",me.WARNING);return}const{title:O,summary:P,arbiter:Q,proposal_pay:Z,arbiter_pay:ue,content_hash:se,id:ve,job_duration:ce}=h;let Oe=[{account:r.CONTRACT_NAME,name:r.ACTIONS.CREATE_PROPOSAL,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{proposer:String(t.actor),title:O,summary:P,arbiter:Q,proposal_pay:{quantity:`${Z.toFixed(4)} TLM`,contract:Nl.CONTRACT_NAME},arbiter_pay:{quantity:`${ue.toFixed(4)} TLM`,contract:Nl.CONTRACT_NAME},content_hash:se,id:ve,category:0,job_duration:ce,dac_id:n.scope}}];return await Ke(t,Oe)}function C(){l(3,x=!1)}async function G(h){if(!t){Ae.add("Please login to vote",me.WARNING);return}const{proposal_id:O,delegatee_custodian:P,delegate_mode:Q,category:Z}=h;let ue=Q?Q==r.DELEGATE_MODE.PROPOSAL?r.ACTIONS.DELEGATE_VOTE:r.ACTIONS.DELEGATE_VOTE_CATEGORY:r.ACTIONS.UNDELEGATE_VOTE,se=Q?Q==r.DELEGATE_MODE.PROPOSAL?{proposal_id:O,delegatee_custodian:P}:{category:Z,delegatee_custodian:P}:{category:Z},ve=[{account:r.CONTRACT_NAME,name:ue,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{...se,custodian:t.actor,dac_id:n.scope}}];return Ke(t,ve)}function B(){l(4,T=!1),l(5,A=!1)}function F(h){switch(h){case r.PROP_STATE.PENDING_APPROVAL.value:return"border-purple-700 shadow-purple-700";case r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value:return"border-green-700 shadow-green-700";case r.PROP_STATE.IN_PROGRESS.value:return"border-blue-700 shadow-blue-700";case r.PROP_STATE.PENDING_FINALIZE.value:return"border-yellow-700 shadow-yellow-700";case r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value:return"border-teal-700 shadow-teal-700";case r.PROP_STATE.EXPIRED.value:return"border-gray-700 shadow-gray-700";case r.PROP_STATE.DISPUTED.value:return"border-red-700 shadow-red-700";default:return""}}function K(h){switch(h){case r.PROP_STATE.PENDING_APPROVAL.value:return"gray";case r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value:return"green";case r.PROP_STATE.IN_PROGRESS.value:return"blue";case r.PROP_STATE.PENDING_FINALIZE.value:return"yellow";case r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value:return"teal";case r.PROP_STATE.EXPIRED.value:return"red";case r.PROP_STATE.DISPUTED.value:return"purple";default:return"gray"}}return[s,o,u,x,T,A,V,U,I,j,H,m,D,w,L,R,C,G,B,F,K,h=>U(h)]}class sa extends xt{constructor(e){super(),Ut(this,e,Yn,jn,Gt,{},null,[-1,-1])}}export{sa as component};
