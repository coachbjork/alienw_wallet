import{s as ht,y as tt,i as P,d,h as Je,O as Mt,o as pt,e as _,j as A,c as h,a as w,l as x,k as G,m as u,f as a,q as Ce,r as W,W as Gt,v as mt,D as Ht,t as ee,b as te,n as ve,M as qt,N as Ft,P as jt,Q as Pe,w as ct,u as Bt,g as Re}from"../chunks/scheduler.D6Op29QC.js";import{S as vt,i as bt,d as U,g as Ke,t as H,b as Ze,c as Le,a as Oe,m as Ue,e as Me,f as Qt,h as ft,j as ut}from"../chunks/index.CfcvFERA.js";import{s as gt,c as wt,t as Ye,T as ze,a as me,e as lt}from"../chunks/bundle-mjs.ChbzPX9D.js";import{P as Xt}from"../chunks/PlanetMenu.DSb5ILLP.js";import{p as Wt}from"../chunks/session.B5s_Uy_N.js";import{S as Yt}from"../chunks/Spinner.Dfl8Q41u.js";import{C as Jt}from"../chunks/CloseOutline.DE8M9x3j.js";import{c as dt,s as Xe,a as _t}from"../chunks/index.DTG3rL58.js";import{A as Kt}from"../chunks/Actions.xOJhjvYd.js";import{g as Zt,a as $t,b as el}from"../chunks/awDaoInfraService.CU5Kdws4.js";import{h as Nt,C as tl}from"../chunks/CrosshairsSolid.CShxFfNi.js";function St(s){let e,t,l,n,i,r,c,f,v,b,m,I="Title:",k,C,y,O,p,T="String",Y,o,E="Author:",N,V,L,Q,R,re="String",z,ae,Ge="Image URL:",be,fe,F,Ae,ue,He="String",ge,de,we="Link:",qe,le,X,je,ie,ye="String",Ne,_e,j,ke,Ee,Fe="String",Ie,oe,J,K,Se,xe,Qe;function se(S,Z){return S[2]?sl:ll}let De=se(s),he=De(s);v=new Jt({props:{class:"text-red-500 hover:cursor-pointer",size:"lg",strokeWidth:"3"}});const M=[rl,nl],ne=[];function B(S,Z){return S[1]?0:1}return J=B(s),K=ne[J]=M[J](s),{c(){e=_("div"),t=_("div"),l=_("div"),n=_("h2"),he.c(),i=A(),r=_("div"),c=A(),f=_("div"),Le(v.$$.fragment),b=A(),m=_("label"),m.textContent=I,k=A(),C=_("div"),y=_("input"),O=A(),p=_("span"),p.textContent=T,Y=A(),o=_("label"),o.textContent=E,N=A(),V=_("div"),L=_("input"),Q=A(),R=_("span"),R.textContent=re,z=A(),ae=_("label"),ae.textContent=Ge,be=A(),fe=_("div"),F=_("input"),Ae=A(),ue=_("span"),ue.textContent=He,ge=A(),de=_("label"),de.textContent=we,qe=A(),le=_("div"),X=_("input"),je=A(),ie=_("span"),ie.textContent=ye,Ne=A(),_e=_("div"),j=_("textarea"),ke=A(),Ee=_("span"),Ee.textContent=Fe,Ie=A(),oe=_("div"),K.c(),this.h()},l(S){e=h(S,"DIV",{class:!0});var Z=w(e);t=h(Z,"DIV",{class:!0});var g=w(t);l=h(g,"DIV",{class:!0});var D=w(l);n=h(D,"H2",{class:!0});var ce=w(n);he.l(ce),ce.forEach(d),i=x(D),r=h(D,"DIV",{class:!0}),w(r).forEach(d),c=x(D),f=h(D,"DIV",{});var Te=w(f);Oe(v.$$.fragment,Te),Te.forEach(d),D.forEach(d),b=x(g),m=h(g,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(m)!=="svelte-3s1ylv"&&(m.textContent=I),k=x(g),C=h(g,"DIV",{class:!0});var $=w(C);y=h($,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),O=x($),p=h($,"SPAN",{class:!0,"data-svelte-h":!0}),G(p)!=="svelte-f2t0dw"&&(p.textContent=T),$.forEach(d),Y=x(g),o=h(g,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(o)!=="svelte-1j89fz3"&&(o.textContent=E),N=x(g),V=h(g,"DIV",{class:!0});var q=w(V);L=h(q,"INPUT",{class:!0,type:!0,placeholder:!0}),Q=x(q),R=h(q,"SPAN",{class:!0,"data-svelte-h":!0}),G(R)!=="svelte-f2t0dw"&&(R.textContent=re),q.forEach(d),z=x(g),ae=h(g,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(ae)!=="svelte-18pwey0"&&(ae.textContent=Ge),be=x(g),fe=h(g,"DIV",{class:!0});var pe=w(fe);F=h(pe,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),Ae=x(pe),ue=h(pe,"SPAN",{class:!0,"data-svelte-h":!0}),G(ue)!=="svelte-f2t0dw"&&(ue.textContent=He),pe.forEach(d),ge=x(g),de=h(g,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(de)!=="svelte-f1twy9"&&(de.textContent=we),qe=x(g),le=h(g,"DIV",{class:!0});var Be=w(le);X=h(Be,"INPUT",{class:!0,type:!0,placeholder:!0}),je=x(Be),ie=h(Be,"SPAN",{class:!0,"data-svelte-h":!0}),G(ie)!=="svelte-f2t0dw"&&(ie.textContent=ye),Be.forEach(d),Ne=x(g),_e=h(g,"DIV",{class:!0});var We=w(_e);j=h(We,"TEXTAREA",{class:!0,placeholder:!0}),w(j).forEach(d),ke=x(We),Ee=h(We,"SPAN",{class:!0,"data-svelte-h":!0}),G(Ee)!=="svelte-f2t0dw"&&(Ee.textContent=Fe),We.forEach(d),Ie=x(g),oe=h(g,"DIV",{class:!0});var $e=w(oe);K.l($e),$e.forEach(d),g.forEach(d),Z.forEach(d),this.h()},h(){u(n,"class","text-white underline decoration-white underline-offset-4"),u(r,"class","flex-grow"),u(l,"class","mb-5 flex flex-row"),u(m,"for","title"),u(m,"class","text-base font-semibold"),u(y,"id","title"),u(y,"class","text-black svelte-ox5saq"),u(y,"type","text"),u(y,"placeholder","Title"),u(p,"class","my-2 ml-1 flex items-center justify-center rounded-lg bg-gray-600 px-2 text-white"),u(C,"class","flex flex-row"),u(o,"for","author"),u(o,"class","text-base font-semibold"),u(L,"class","text-black svelte-ox5saq"),u(L,"type","text"),u(L,"placeholder","Author"),u(R,"class","my-2 ml-1 flex items-center justify-center rounded-lg bg-gray-600 px-2 text-white"),u(V,"class","flex flex-row"),u(ae,"for","image"),u(ae,"class","text-base font-semibold"),u(F,"id","image"),u(F,"class","text-black svelte-ox5saq"),u(F,"type","text"),u(F,"placeholder","Image URL"),u(ue,"class","my-2 ml-1 flex items-center justify-center rounded-lg bg-gray-600 px-2 text-white"),u(fe,"class","flex flex-row"),u(de,"for","link"),u(de,"class","text-base font-semibold"),u(X,"class","text-black svelte-ox5saq"),u(X,"type","text"),u(X,"placeholder","Link"),u(ie,"class","my-2 ml-1 flex items-center justify-center rounded-lg bg-gray-600 px-2 text-white"),u(le,"class","flex flex-row"),u(j,"class","text-black svelte-ox5saq"),u(j,"placeholder","Description"),u(Ee,"class","my-2 ml-1 flex items-center justify-center rounded-lg bg-gray-600 px-2 text-white"),u(_e,"class","flex flex-row"),u(oe,"class","mt-2"),u(t,"class","modal-content bg-background-default-lighter svelte-ox5saq"),u(e,"class","modal svelte-ox5saq")},m(S,Z){P(S,e,Z),a(e,t),a(t,l),a(l,n),he.m(n,null),a(l,i),a(l,r),a(l,c),a(l,f),Ue(v,f,null),a(t,b),a(t,m),a(t,k),a(t,C),a(C,y),Ce(y,s[3]),a(C,O),a(C,p),a(t,Y),a(t,o),a(t,N),a(t,V),a(V,L),Ce(L,s[7]),a(V,Q),a(V,R),a(t,z),a(t,ae),a(t,be),a(t,fe),a(fe,F),Ce(F,s[5]),a(fe,Ae),a(fe,ue),a(t,ge),a(t,de),a(t,qe),a(t,le),a(le,X),Ce(X,s[6]),a(le,je),a(le,ie),a(t,Ne),a(t,_e),a(_e,j),Ce(j,s[4]),a(_e,ke),a(_e,Ee),a(t,Ie),a(t,oe),ne[J].m(oe,null),Se=!0,xe||(Qe=[W(f,"click",s[9]),W(y,"input",s[12]),W(L,"input",s[13]),W(F,"input",s[14]),W(X,"input",s[15]),W(j,"input",s[16]),W(j,"input",zt),W(j,"focusin",s[17]),W(j,"focusout",s[18]),W(t,"click",Gt(s[11])),W(e,"click",s[9])],xe=!0)},p(S,Z){De!==(De=se(S))&&(he.d(1),he=De(S),he&&(he.c(),he.m(n,null))),Z&8&&y.value!==S[3]&&Ce(y,S[3]),Z&128&&L.value!==S[7]&&Ce(L,S[7]),Z&32&&F.value!==S[5]&&Ce(F,S[5]),Z&64&&X.value!==S[6]&&Ce(X,S[6]),Z&16&&Ce(j,S[4]);let g=J;J=B(S),J===g?ne[J].p(S,Z):(Ke(),H(ne[g],1,1,()=>{ne[g]=null}),Ze(),K=ne[J],K?K.p(S,Z):(K=ne[J]=M[J](S),K.c()),U(K,1),K.m(oe,null))},i(S){Se||(U(v.$$.fragment,S),U(K),Se=!0)},o(S){H(v.$$.fragment,S),H(K),Se=!1},d(S){S&&d(e),he.d(),Me(v),ne[J].d(),xe=!1,mt(Qe)}}}function ll(s){let e;return{c(){e=ee("Update Identity")},l(t){e=te(t,"Update Identity")},m(t,l){P(t,e,l)},d(t){t&&d(e)}}}function sl(s){let e;return{c(){e=ee("Create Identity")},l(t){e=te(t,"Create Identity")},m(t,l){P(t,e,l)},d(t){t&&d(e)}}}function nl(s){let e,t="Submit",l,n;return{c(){e=_("button"),e.textContent=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-k2laof"&&(e.textContent=t),this.h()},h(){u(e,"class","bg-green-500 text-white hover:bg-green-700 svelte-ox5saq")},m(i,r){P(i,e,r),l||(n=W(e,"click",s[8]),l=!0)},p:ve,i:ve,o:ve,d(i){i&&d(e),l=!1,n()}}}function rl(s){let e,t,l;return t=new Yt({props:{color:"green"}}),{c(){e=_("div"),Le(t.$$.fragment),this.h()},l(n){e=h(n,"DIV",{class:!0});var i=w(e);Oe(t.$$.fragment,i),i.forEach(d),this.h()},h(){u(e,"class","flex flex-col items-center")},m(n,i){P(n,e,i),Ue(t,e,null),l=!0},p:ve,i(n){l||(U(t.$$.fragment,n),l=!0)},o(n){H(t.$$.fragment,n),l=!1},d(n){n&&d(e),Me(t)}}}function il(s){let e,t,l=s[0]&&St(s);return{c(){l&&l.c(),e=tt()},l(n){l&&l.l(n),e=tt()},m(n,i){l&&l.m(n,i),P(n,e,i),t=!0},p(n,[i]){n[0]?l?(l.p(n,i),i&1&&U(l,1)):(l=St(n),l.c(),U(l,1),l.m(e.parentNode,e)):l&&(Ke(),H(l,1,1,()=>{l=null}),Ze())},i(n){t||(U(l),t=!0)},o(n){H(l),t=!1},d(n){n&&d(e),l&&l.d(n)}}}function zt(s){s.target.style.height="auto",s.target.style.height=s.target.scrollHeight+"px"}function al(s){s.target.style.height="auto"}function ol(s,e,t){let l,n;Je(s,gt,R=>t(19,l=R)),Je(s,wt,R=>t(20,n=R));const i=Mt();let r=!1,c=!1,f=!0,v="",b="",m="",I="",k="";function C(R,re){let{article:z}=re;z?(t(2,f=!1),t(3,v=z.title),t(5,m=z.image),t(6,I=z.link),t(7,k=z.author),t(4,b=z.description)):t(2,f=!0),t(0,r=R)}function y(){i("refresh")}pt(async()=>{});async function O(){if(t(1,c=!0),!l){Ye.add("Please login to vote",ze.WARNING);return}if(!v){Ye.add("Title is required",ze.WARNING),t(1,c=!1);return}if(!m){Ye.add("Image URL is required",ze.WARNING),t(1,c=!1);return}if(!I){Ye.add("Article Link is required",ze.WARNING),t(1,c=!1);return}if(!k){Ye.add("Author is required",ze.WARNING),t(1,c=!1);return}if(!b){Ye.add("Description is required",ze.WARNING),t(1,c=!1);return}let R=[{account:me.CONTRACT_NAME,name:f?me.ACTIONS.ADD_ARTICLE:me.ACTIONS.UPDATE_ARTICLE,authorization:[{actor:String(l.actor),permission:String(l==null?void 0:l.permission)}],data:{dac_id:n.scope,executor:String(l.actor),title:v,image:m,link:I,author:k,description:b}}];await Wt(l,R),t(1,c=!1),y(),p()}async function p(){t(3,v=""),t(4,b=""),t(5,m=""),t(6,I=""),t(7,k=""),t(0,r=!1)}function T(R){Ht.call(this,s,R)}function Y(){v=this.value,t(3,v)}function o(){k=this.value,t(7,k)}function E(){m=this.value,t(5,m)}function N(){I=this.value,t(6,I)}function V(){b=this.value,t(4,b)}return[r,c,f,v,b,m,I,k,O,p,C,T,Y,o,E,N,V,()=>zt(event),()=>al(event)]}class cl extends vt{constructor(e){super(),bt(this,e,ol,il,ht,{setModalOpen:10})}get setModalOpen(){return this.$$.ctx[10]}}function Dt(s){let e,t,l,n="Create New",i,r,c,f,v="Update",b,m,I,k,C="Remove",y,O,p,T,Y;return{c(){e=_("div"),t=_("div"),l=_("button"),l.textContent=n,c=A(),f=_("button"),f.textContent=v,I=A(),k=_("button"),k.textContent=C,this.h()},l(o){e=h(o,"DIV",{class:!0});var E=w(e);t=h(E,"DIV",{class:!0});var N=w(t);l=h(N,"BUTTON",{class:!0,"data-svelte-h":!0}),G(l)!=="svelte-12yfc7j"&&(l.textContent=n),c=x(N),f=h(N,"BUTTON",{class:!0,"data-svelte-h":!0}),G(f)!=="svelte-1ca2m6k"&&(f.textContent=v),I=x(N),k=h(N,"BUTTON",{class:!0,"data-svelte-h":!0}),G(k)!=="svelte-btjkj2"&&(k.textContent=C),N.forEach(d),E.forEach(d),this.h()},h(){var o,E,N,V,L,Q,R;u(l,"class","min-w-8 basis-1/4 rounded-xl bg-indigo-500 p-2 text-sm font-bold text-white hover:bg-indigo-700"),Pe(l,"hidden",!(s[1]&&((o=s[1])==null?void 0:o.wallet)==String(s[3].actor))),u(f,"class","min-w-8 basis-1/4 rounded-xl bg-yellow-500 p-2 text-sm font-bold text-white hover:bg-yellow-700"),Pe(f,"hidden",!(s[0]&&(((E=s[0])==null?void 0:E.creator)==((N=s[1])==null?void 0:N.wallet)||((V=s[1])==null?void 0:V.permission_level)==me.PERMISSION_LEVEL.PARENT))),u(k,"class","min-w-8 basis-1/4 rounded-xl bg-red-500 p-2 text-sm font-bold text-white hover:bg-red-700"),Pe(k,"hidden",!(s[0]&&(((L=s[0])==null?void 0:L.creator)==((Q=s[1])==null?void 0:Q.wallet)||((R=s[1])==null?void 0:R.permission_level)==me.PERMISSION_LEVEL.PARENT))),u(t,"class","mb-20 flex flex-row-reverse flex-wrap justify-center gap-1 p-2 backdrop-blur-sm"),u(e,"class","fixed bottom-0 left-0 right-0 z-50 content-end md:hidden"),Pe(e,"inset-0",s[2])},m(o,E){P(o,e,E),a(e,t),a(t,l),a(t,c),a(t,f),a(t,I),a(t,k),p=!0,T||(Y=[W(l,"click",s[6]),W(f,"click",s[7]),W(k,"click",s[8]),W(e,"click",s[9])],T=!0)},p(o,E){var N,V,L,Q,R,re,z;(!p||E&10)&&Pe(l,"hidden",!(o[1]&&((N=o[1])==null?void 0:N.wallet)==String(o[3].actor))),(!p||E&3)&&Pe(f,"hidden",!(o[0]&&(((V=o[0])==null?void 0:V.creator)==((L=o[1])==null?void 0:L.wallet)||((Q=o[1])==null?void 0:Q.permission_level)==me.PERMISSION_LEVEL.PARENT))),(!p||E&3)&&Pe(k,"hidden",!(o[0]&&(((R=o[0])==null?void 0:R.creator)==((re=o[1])==null?void 0:re.wallet)||((z=o[1])==null?void 0:z.permission_level)==me.PERMISSION_LEVEL.PARENT))),(!p||E&4)&&Pe(e,"inset-0",o[2])},i(o){p||(o&&ct(()=>{p&&(r&&r.end(1),i=ft(l,Xe,{axis:"y",duration:100,easing:dt}),i.start())}),o&&ct(()=>{p&&(m&&m.end(1),b=ft(f,Xe,{axis:"y",duration:100,easing:dt}),b.start())}),o&&ct(()=>{p&&(O&&O.end(1),y=ft(k,Xe,{axis:"y",duration:100,easing:dt}),y.start())}),p=!0)},o(o){i&&i.invalidate(),o&&(r=ut(l,Xe,{axis:"y",duration:100,easing:_t})),b&&b.invalidate(),o&&(m=ut(f,Xe,{axis:"y",duration:100,easing:_t})),y&&y.invalidate(),o&&(O=ut(k,Xe,{axis:"y",duration:100,easing:_t})),p=!1},d(o){o&&d(e),o&&r&&r.end(),o&&m&&m.end(),o&&O&&O.end(),T=!1,mt(Y)}}}function fl(s){let e,t="Login to call actions";return{c(){e=_("p"),e.textContent=t,this.h()},l(l){e=h(l,"P",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-bvnls2"&&(e.textContent=t),this.h()},h(){u(e,"class","mt-5 text-center")},m(l,n){P(l,e,n)},p:ve,d(l){l&&d(e)}}}function ul(s){var r,c,f,v;let e,t=s[1]&&((r=s[1])==null?void 0:r.wallet)==String(s[3].actor),l,n=t&&Tt(s),i=s[0]&&(((c=s[0])==null?void 0:c.creator)==((f=s[1])==null?void 0:f.wallet)||((v=s[1])==null?void 0:v.permission_level)==me.PERMISSION_LEVEL.PARENT)&&Vt(s);return{c(){e=_("div"),n&&n.c(),l=A(),i&&i.c(),this.h()},l(b){e=h(b,"DIV",{class:!0});var m=w(e);n&&n.l(m),l=x(m),i&&i.l(m),m.forEach(d),this.h()},h(){u(e,"class","mt-5 hidden max-w-32 flex-wrap justify-center md:flex")},m(b,m){P(b,e,m),n&&n.m(e,null),a(e,l),i&&i.m(e,null)},p(b,m){var I,k,C,y;m&10&&(t=b[1]&&((I=b[1])==null?void 0:I.wallet)==String(b[3].actor)),t?n?n.p(b,m):(n=Tt(b),n.c(),n.m(e,l)):n&&(n.d(1),n=null),b[0]&&(((k=b[0])==null?void 0:k.creator)==((C=b[1])==null?void 0:C.wallet)||((y=b[1])==null?void 0:y.permission_level)==me.PERMISSION_LEVEL.PARENT)?i?i.p(b,m):(i=Vt(b),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(b){b&&d(e),n&&n.d(),i&&i.d()}}}function Tt(s){let e,t="Create New",l,n;return{c(){e=_("button"),e.textContent=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-zykebq"&&(e.textContent=t),this.h()},h(){u(e,"class","m-1 min-w-32 grow rounded-xl bg-indigo-500 p-2 font-bold text-white hover:bg-indigo-700")},m(i,r){P(i,e,r),l||(n=W(e,"click",s[10]),l=!0)},p:ve,d(i){i&&d(e),l=!1,n()}}}function Vt(s){let e,t="Update",l,n,i="Remove",r,c;return{c(){e=_("button"),e.textContent=t,l=A(),n=_("button"),n.textContent=i,this.h()},l(f){e=h(f,"BUTTON",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-p0j7wb"&&(e.textContent=t),l=x(f),n=h(f,"BUTTON",{class:!0,"data-svelte-h":!0}),G(n)!=="svelte-1c6q8b9"&&(n.textContent=i),this.h()},h(){u(e,"class","m-1 min-w-32 grow rounded-xl bg-yellow-500 p-2 font-bold text-white hover:bg-yellow-700"),u(n,"class","m-1 min-w-32 grow rounded-xl bg-red-500 p-2 font-bold text-white hover:bg-red-700")},m(f,v){P(f,e,v),P(f,l,v),P(f,n,v),r||(c=[W(e,"click",s[11]),W(n,"click",s[12])],r=!0)},p:ve,d(f){f&&(d(e),d(l),d(n)),r=!1,mt(c)}}}function dl(s){let e,t,l=s[3]&&s[2]&&Dt(s);function n(c,f){return c[3]?ul:fl}let i=n(s),r=i(s);return{c(){l&&l.c(),e=A(),r.c(),t=tt()},l(c){l&&l.l(c),e=x(c),r.l(c),t=tt()},m(c,f){l&&l.m(c,f),P(c,e,f),r.m(c,f),P(c,t,f)},p(c,f){c[3]&&c[2]?l?(l.p(c,f),f&12&&U(l,1)):(l=Dt(c),l.c(),U(l,1),l.m(e.parentNode,e)):l&&(Ke(),H(l,1,1,()=>{l=null}),Ze()),i===(i=n(c))&&r?r.p(c,f):(r.d(1),r=i(c),r&&(r.c(),r.m(t.parentNode,t)))},d(c){c&&(d(e),d(t)),l&&l.d(c),r.d(c)}}}function _l(s){let e,t,l;function n(r){s[13](r)}let i={$$slots:{default:[dl]},$$scope:{ctx:s}};return s[2]!==void 0&&(i.showActions=s[2]),e=new Kt({props:i}),qt.push(()=>Qt(e,"showActions",n)),{c(){Le(e.$$.fragment)},l(r){Oe(e.$$.fragment,r)},m(r,c){Ue(e,r,c),l=!0},p(r,[c]){const f={};c&131087&&(f.$$scope={dirty:c,ctx:r}),!t&&c&4&&(t=!0,f.showActions=r[2],Ft(()=>t=!1)),e.$set(f)},i(r){l||(U(e.$$.fragment,r),l=!0)},o(r){H(e.$$.fragment,r),l=!1},d(r){Me(e,r)}}}function hl(s,e,t){let l,n;Je(s,gt,o=>t(3,l=o)),Je(s,wt,o=>t(14,n=o));let{selectedArticle:i={}}=e,{user_identity:r={}}=e;const c=Mt();let f=!1;pt(async()=>{}),jt(async()=>{});function v(o){c("set",{article:o})}function b(){c("refresh")}async function m(){if(!l){Ye.add("Please login to vote",ze.WARNING);return}let o=[{account:me.CONTRACT_NAME,name:me.ACTIONS.REMOVE_ARTICLE,authorization:[{actor:String(l.actor),permission:String(l==null?void 0:l.permission)}],data:{dac_id:n.scope,executor:String(l.actor),article_id:i.article_id}}];await Wt(l,o),b()}const I=()=>v(null),k=()=>v(i),C=()=>m(),y=()=>t(2,f=!1),O=()=>v(null),p=()=>v(i),T=()=>m();function Y(o){f=o,t(2,f)}return s.$$set=o=>{"selectedArticle"in o&&t(0,i=o.selectedArticle),"user_identity"in o&&t(1,r=o.user_identity)},[i,r,f,l,v,m,I,k,C,y,O,p,T,Y]}class pl extends vt{constructor(e){super(),bt(this,e,hl,_l,ht,{selectedArticle:0,user_identity:1})}}function Pt(s,e,t){const l=s.slice();return l[14]=e[t],l}function Rt(s,e,t){const l=s.slice();return l[17]=e[t],l}function ml(s){let e,t,l=lt(s[4]),n=[];for(let r=0;r<l.length;r+=1)n[r]=Ut(Pt(s,l,r));const i=r=>H(n[r],1,1,()=>{n[r]=null});return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=h(r,"DIV",{class:!0});var c=w(e);for(let f=0;f<n.length;f+=1)n[f].l(c);c.forEach(d),this.h()},h(){u(e,"class","my-4 flex flex-col gap-6 md:my-5")},m(r,c){P(r,e,c);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);t=!0},p(r,c){if(c&82){l=lt(r[4]);let f;for(f=0;f<l.length;f+=1){const v=Pt(r,l,f);n[f]?(n[f].p(v,c),U(n[f],1)):(n[f]=Ut(v),n[f].c(),U(n[f],1),n[f].m(e,null))}for(Ke(),f=l.length;f<n.length;f+=1)i(f);Ze()}},i(r){if(!t){for(let c=0;c<l.length;c+=1)U(n[c]);t=!0}},o(r){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)H(n[c]);t=!1},d(r){r&&d(e),Bt(n,r)}}}function vl(s){let e,t="No Data";return{c(){e=_("div"),e.textContent=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-aldbwn"&&(e.textContent=t),this.h()},h(){u(e,"class","my-4 flex justify-center md:my-5")},m(l,n){P(l,e,n)},p:ve,i:ve,o:ve,d(l){l&&d(e)}}}function bl(s){let e,t,l;return t=new Yt({props:{color:"purple"}}),{c(){e=_("div"),Le(t.$$.fragment),this.h()},l(n){e=h(n,"DIV",{class:!0});var i=w(e);Oe(t.$$.fragment,i),i.forEach(d),this.h()},h(){u(e,"class","my-4 flex justify-center md:my-5")},m(n,i){P(n,e,i),Ue(t,e,null),l=!0},p:ve,i(n){l||(U(t.$$.fragment,n),l=!0)},o(n){H(t.$$.fragment,n),l=!1},d(n){n&&d(e),Me(t)}}}function Lt(s){let e,t;return e=new tl({props:{color:"#ecc94b",size:"24"}}),{c(){Le(e.$$.fragment)},l(l){Oe(e.$$.fragment,l)},m(l,n){Ue(e,l,n),t=!0},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){Me(e,l)}}}function Ot(s){let e=s[17]+"",t,l,n;return{c(){t=ee(e),l=A(),n=_("br")},l(i){t=te(i,e),l=x(i),n=h(i,"BR",{})},m(i,r){P(i,t,r),P(i,l,r),P(i,n,r)},p(i,r){r&16&&e!==(e=i[17]+"")&&Re(t,e)},d(i){i&&(d(t),d(l),d(n))}}}function Ut(s){var Z;let e,t,l,n,i,r,c,f,v,b=s[14].article_id+"",m,I,k,C,y=s[14].creator+"",O,p,T,Y,o,E,N=s[14].title+"",V,L,Q,R,re,z=s[14].image+"",ae,Ge,be,fe,F,Ae=s[14].link+"",ue,He,ge,de,we,qe,le,X,je,ie,ye=s[14].author+"",Ne,_e,j,ke,Ee="Updated At",Fe,Ie,oe=Nt(`${s[14].updated_at}`).format("YYYY-MM-DD HH:mm:ss")+"",J,K,Se,xe,Qe,se,De,he,M=s[1]&&s[1].article_id==((Z=s[14])==null?void 0:Z.article_id)&&Lt(),ne=lt(s[14].description.split(`
`)),B=[];for(let g=0;g<ne.length;g+=1)B[g]=Ot(Rt(s,ne,g));function S(){return s[8](s[14])}return{c(){e=_("button"),t=_("div"),M&&M.c(),l=A(),n=_("div"),i=_("div"),r=_("div"),c=_("div"),f=ee("#: "),v=_("span"),m=ee(b),I=A(),k=_("div"),C=_("span"),O=ee(y),p=A(),T=_("div"),Y=_("div"),o=ee("Title: "),E=_("span"),V=ee(N),L=A(),Q=_("div"),R=ee("Image URL: "),re=_("span"),ae=ee(z),Ge=A(),be=_("div"),fe=ee("Link: "),F=_("span"),ue=ee(Ae),He=A(),ge=_("div"),de=ee("Description: "),we=_("span");for(let g=0;g<B.length;g+=1)B[g].c();qe=A(),le=_("div"),X=_("div"),je=ee("Author: "),ie=_("span"),Ne=ee(ye),_e=A(),j=_("div"),ke=_("div"),ke.textContent=Ee,Fe=A(),Ie=_("div"),J=ee(oe),Se=A(),xe=_("div"),Qe=A(),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var D=w(e);t=h(D,"DIV",{class:!0});var ce=w(t);M&&M.l(ce),ce.forEach(d),l=x(D),n=h(D,"DIV",{class:!0});var Te=w(n);i=h(Te,"DIV",{class:!0});var $=w(i);r=h($,"DIV",{class:!0});var q=w(r);c=h(q,"DIV",{});var pe=w(c);f=te(pe,"#: "),v=h(pe,"SPAN",{class:!0});var Be=w(v);m=te(Be,b),Be.forEach(d),pe.forEach(d),I=x(q),k=h(q,"DIV",{class:!0});var We=w(k);C=h(We,"SPAN",{class:!0});var $e=w(C);O=te($e,y),$e.forEach(d),We.forEach(d),q.forEach(d),p=x($),T=h($,"DIV",{class:!0});var Ve=w(T);Y=h(Ve,"DIV",{});var st=w(Y);o=te(st,"Title: "),E=h(st,"SPAN",{class:!0});var kt=w(E);V=te(kt,N),kt.forEach(d),st.forEach(d),L=x(Ve),Q=h(Ve,"DIV",{});var nt=w(Q);R=te(nt,"Image URL: "),re=h(nt,"SPAN",{class:!0});var Et=w(re);ae=te(Et,z),Et.forEach(d),nt.forEach(d),Ge=x(Ve),be=h(Ve,"DIV",{});var rt=w(be);fe=te(rt,"Link: "),F=h(rt,"SPAN",{class:!0});var It=w(F);ue=te(It,Ae),It.forEach(d),rt.forEach(d),He=x(Ve),ge=h(Ve,"DIV",{});var it=w(ge);de=te(it,"Description: "),we=h(it,"SPAN",{class:!0});var Ct=w(we);for(let ot=0;ot<B.length;ot+=1)B[ot].l(Ct);Ct.forEach(d),it.forEach(d),Ve.forEach(d),qe=x($),le=h($,"DIV",{class:!0});var At=w(le);X=h(At,"DIV",{});var at=w(X);je=te(at,"Author: "),ie=h(at,"SPAN",{class:!0});var xt=w(ie);Ne=te(xt,ye),xt.forEach(d),at.forEach(d),At.forEach(d),_e=x($),j=h($,"DIV",{class:!0});var et=w(j);ke=h(et,"DIV",{"data-svelte-h":!0}),G(ke)!=="svelte-17a2hv0"&&(ke.textContent=Ee),Fe=x(et),Ie=h(et,"DIV",{class:!0});var yt=w(Ie);J=te(yt,oe),yt.forEach(d),et.forEach(d),$.forEach(d),Te.forEach(d),Se=x(D),xe=h(D,"DIV",{class:!0}),w(xe).forEach(d),Qe=x(D),D.forEach(d),this.h()},h(){var g,D;u(t,"class","w-8 flex-none place-self-center"),u(v,"class","text-white underline"),u(C,"class","text-white"),u(k,"class","mt-2"),u(r,"class","flex flex-none basis-2/12 flex-col text-start"),u(E,"class","text-white"),u(re,"class","text-white"),u(F,"class","text-white"),u(we,"class","text-white"),u(T,"class","mx-3 flex-none basis-3/12 flex-col text-start"),u(ie,"class","text-white"),u(le,"class","mx-3 flex flex-1 flex-col text-start"),u(Ie,"class","text-white"),u(j,"class","flex flex-none basis-3/12 flex-col text-end"),u(i,"class","flex flex-row flex-wrap"),u(n,"class",K=`flex-grow whitespace-normal break-words break-all
								rounded-2xl border border-solid border-gray-700 p-5 shadow-md shadow-gray-700  
								${((g=s[14])==null?void 0:g.article_id)==((D=s[1])==null?void 0:D.article_id)?"backdrop-brightness-200":"backdrop-brightness-125"}`),u(xe,"class","w-8 flex-none"),u(e,"class","flex flex-row")},m(g,D){P(g,e,D),a(e,t),M&&M.m(t,null),a(e,l),a(e,n),a(n,i),a(i,r),a(r,c),a(c,f),a(c,v),a(v,m),a(r,I),a(r,k),a(k,C),a(C,O),a(i,p),a(i,T),a(T,Y),a(Y,o),a(Y,E),a(E,V),a(T,L),a(T,Q),a(Q,R),a(Q,re),a(re,ae),a(T,Ge),a(T,be),a(be,fe),a(be,F),a(F,ue),a(T,He),a(T,ge),a(ge,de),a(ge,we);for(let ce=0;ce<B.length;ce+=1)B[ce]&&B[ce].m(we,null);a(i,qe),a(i,le),a(le,X),a(X,je),a(X,ie),a(ie,Ne),a(i,_e),a(i,j),a(j,ke),a(j,Fe),a(j,Ie),a(Ie,J),a(e,Se),a(e,xe),a(e,Qe),se=!0,De||(he=W(e,"click",S),De=!0)},p(g,D){var ce,Te,$;if(s=g,s[1]&&s[1].article_id==((ce=s[14])==null?void 0:ce.article_id)?M?D&18&&U(M,1):(M=Lt(),M.c(),U(M,1),M.m(t,null)):M&&(Ke(),H(M,1,1,()=>{M=null}),Ze()),(!se||D&16)&&b!==(b=s[14].article_id+"")&&Re(m,b),(!se||D&16)&&y!==(y=s[14].creator+"")&&Re(O,y),(!se||D&16)&&N!==(N=s[14].title+"")&&Re(V,N),(!se||D&16)&&z!==(z=s[14].image+"")&&Re(ae,z),(!se||D&16)&&Ae!==(Ae=s[14].link+"")&&Re(ue,Ae),D&16){ne=lt(s[14].description.split(`
`));let q;for(q=0;q<ne.length;q+=1){const pe=Rt(s,ne,q);B[q]?B[q].p(pe,D):(B[q]=Ot(pe),B[q].c(),B[q].m(we,null))}for(;q<B.length;q+=1)B[q].d(1);B.length=ne.length}(!se||D&16)&&ye!==(ye=s[14].author+"")&&Re(Ne,ye),(!se||D&16)&&oe!==(oe=Nt(`${s[14].updated_at}`).format("YYYY-MM-DD HH:mm:ss")+"")&&Re(J,oe),(!se||D&18&&K!==(K=`flex-grow whitespace-normal break-words break-all
								rounded-2xl border border-solid border-gray-700 p-5 shadow-md shadow-gray-700  
								${((Te=s[14])==null?void 0:Te.article_id)==(($=s[1])==null?void 0:$.article_id)?"backdrop-brightness-200":"backdrop-brightness-125"}`))&&u(n,"class",K)},i(g){se||(U(M),se=!0)},o(g){H(M),se=!1},d(g){g&&d(e),M&&M.d(),Bt(B,g),De=!1,he()}}}function gl(s){let e,t,l,n,i,r,c,f,v,b,m,I,k,C,y;l=new Xt({});const O=[bl,vl,ml],p=[];function T(o,E){return o[0]?0:o[4].length==0?1:2}r=T(s),c=p[r]=O[r](s),I=new pl({props:{selectedArticle:s[1],user_identity:s[2]}}),I.$on("set",s[9]),I.$on("refresh",s[5]);let Y={};return C=new cl({props:Y}),s[10](C),C.$on("refresh",s[5]),{c(){e=_("div"),t=_("div"),Le(l.$$.fragment),n=A(),i=_("div"),c.c(),f=A(),v=_("div"),b=A(),m=_("div"),Le(I.$$.fragment),k=A(),Le(C.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var E=w(e);t=h(E,"DIV",{class:!0});var N=w(t);Oe(l.$$.fragment,N),n=x(N),i=h(N,"DIV",{class:!0});var V=w(i);c.l(V),V.forEach(d),N.forEach(d),E.forEach(d),f=x(o),v=h(o,"DIV",{class:!0}),w(v).forEach(d),b=x(o),m=h(o,"DIV",{class:!0});var L=w(m);Oe(I.$$.fragment,L),L.forEach(d),k=x(o),Oe(C.$$.fragment,o),this.h()},h(){u(i,"class","mt-10 overflow-x-auto"),u(t,"class","container relative overflow-x-hidden"),u(e,"class","main-content py-6"),u(v,"class","left-side md:flex"),u(m,"class","right-side md:flex")},m(o,E){P(o,e,E),a(e,t),Ue(l,t,null),a(t,n),a(t,i),p[r].m(i,null),P(o,f,E),P(o,v,E),P(o,b,E),P(o,m,E),Ue(I,m,null),P(o,k,E),Ue(C,o,E),y=!0},p(o,[E]){let N=r;r=T(o),r===N?p[r].p(o,E):(Ke(),H(p[N],1,1,()=>{p[N]=null}),Ze(),c=p[r],c?c.p(o,E):(c=p[r]=O[r](o),c.c()),U(c,1),c.m(i,null));const V={};E&2&&(V.selectedArticle=o[1]),E&4&&(V.user_identity=o[2]),I.$set(V);const L={};C.$set(L)},i(o){y||(U(l.$$.fragment,o),U(c),U(I.$$.fragment,o),U(C.$$.fragment,o),y=!0)},o(o){H(l.$$.fragment,o),H(c),H(I.$$.fragment,o),H(C.$$.fragment,o),y=!1},d(o){o&&(d(e),d(f),d(v),d(b),d(m),d(k)),Me(l),p[r].d(),Me(I),s[10](null),Me(C,o)}}}function wl(s,e,t){let l,n;Je(s,wt,p=>t(12,l=p)),Je(s,gt,p=>t(7,n=p));let i=l,r=!0,c=null,f=null,v,b=[];pt(async()=>{t(0,r=!0),await I(),n&&await m(),t(0,r=!1)}),jt(async()=>{i!==l&&(i=l,t(0,r=!0),await I(),n&&await m(),t(0,r=!1))});async function m(){const p=await el(l.name,String(n==null?void 0:n.actor));p&&t(2,f=p)}async function I(){const p=await Zt(l.name);if(!p)return;let T=await $t(p);T&&t(4,b=T)}function k(p){if(c&&c.article_id==p.article_id){t(1,c=null);return}else t(1,c=p)}const C=p=>k(p),y=p=>{v.setModalOpen(!0,p.detail)};function O(p){qt[p?"unshift":"push"](()=>{v=p,t(3,v)})}return s.$$.update=()=>{s.$$.dirty&128&&n&&m()},[r,c,f,v,b,I,k,n,C,y,O]}class Vl extends vt{constructor(e){super(),bt(this,e,wl,gl,ht,{})}}export{Vl as component};
