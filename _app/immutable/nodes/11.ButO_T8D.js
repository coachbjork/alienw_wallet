import{s as Ut,y as vt,i as W,d as f,h as bt,o as ol,e as _,j as N,c as p,a as g,k as te,l as I,m as d,f as i,q as pe,r as F,W as ye,ab as st,v as Ct,G as $l,n as Ee,t as ne,b as se,g as we,w as Ve,x as Nl,p as ia,M as ua,N as ca,O as da,P as ea,Q as fe,u as sl}from"../chunks/scheduler.BGxGHEAh.js";import{S as xt,i as Bt,d as re,g as _t,t as he,b as pt,c as Ye,a as Xe,m as Ke,e as Qe,f as fa,h as Ue,j as xe}from"../chunks/index.DmCm9C9p.js";import{A as Ht,a0 as r,c as il,s as ul,t as Pe,T as Ae,e as mt,b as Il}from"../chunks/bundle-mjs.fLspV5ki.js";import{P as _a}from"../chunks/PlanetMenu.BaILbyHm.js";import{c as ta,_ as Wt,g as la,a as aa,p as Ze}from"../chunks/session.CCA_5FAn.js";import{S as na}from"../chunks/Spinner.aPOk_JFp.js";import{C as sa}from"../chunks/CloseOutline.F1qIKqnD.js";import{c as Be,s as _e,a as He}from"../chunks/index.B8QQQgBR.js";import{A as pa}from"../chunks/Actions.574xcTYa.js";import{B as ha}from"../chunks/Badge.hK3lh8M_.js";import{h as rl,C as Oa}from"../chunks/CrosshairsSolid.nzjNa-D0.js";const Rl="wDMKqd4HX-0QgnjRJ2CUALFi8Tza0pwZqCZAMX1o8Qdu-kfGLCLTILIvM3yE5Nhp",Cl="https://sapphire-written-octopus-904.mypinata.cloud";async function Pa(n,e){const l=await ta(n),t=[];for(const a of l){const s={index_position:3,key_type:"i64",from:String(a.proposal_id),to:String(a.proposal_id)};let o=await ma(e,s);o=o.map(c=>({vote_id:parseInt(c.vote_id),voter:String(c.voter),proposal_id:String(c.proposal_id),category_id:parseInt(c.category_id),vote:String(c.vote),delegatee:String(c.delegatee),comment_hash:String(c.comment_hash)})),t.push({proposal_id:String(a.proposal_id),proposer:String(a.proposer),arbiter:String(a.arbiter),content_hash:String(a.content_hash),proposal_pay:{contract:String(a.proposal_pay.contract),quantity:String(a.proposal_pay.quantity)},arbiter_pay:{contract:String(a.arbiter_pay.contract),quantity:String(a.arbiter_pay.quantity)},title:String(a.title),summary:String(a.summary),state:String(a.state),expiry:`${String(a.expiry)}Z`,job_duration:parseInt(a.job_duration),category:parseInt(a.category),arbiter_agreed:a.arbiter_agreed,votes:o})}return t}async function Aa(n){var t;const e=((t=Wt.find(Ht,a=>a.name===n))==null?void 0:t.scope)||"";return await la(r.CONTRACT_NAME,e,r.TABLES.PROPOSALS)}async function Ta(n,e){var s;const l=((s=Wt.find(Ht,o=>o.name===n))==null?void 0:s.scope)||"",t=await aa(r.CONTRACT_NAME,l,r.TABLES.PROPOSALS,e);return t?{proposal_id:String(t.proposal_id),proposer:String(t.proposer),arbiter:String(t.arbiter),content_hash:String(t.content_hash),proposal_pay:{contract:String(t.proposal_pay.contract),quantity:String(t.proposal_pay.quantity)},arbiter_pay:{contract:String(t.arbiter_pay.contract),quantity:String(t.arbiter_pay.quantity)},title:String(t.title),summary:String(t.summary),state:String(t.state),expiry:`${String(t.expiry)}Z`,job_duration:parseInt(t.job_duration),category:parseInt(t.category),arbiter_agreed:t.arbiter_agreed}:{}}async function ma(n,e){var o;const l=((o=Wt.find(Ht,c=>c.name===n))==null?void 0:o.scope)||"",t=await la(r.CONTRACT_NAME,l,r.TABLES.PROPOSAL_VOTES,e);return(await ta(t)).map(c=>({vote_id:parseInt(c.vote_id),voter:String(c.voter),proposal_id:String(c.proposal_id),category_id:parseInt(c.category_id),vote:String(c.vote),delegatee:String(c.delegatee),comment_hash:String(c.comment_hash)}))}async function va(n){var a;const e=((a=Wt.find(Ht,s=>s.name===n))==null?void 0:a.scope)||"",l=await aa(r.CONTRACT_NAME,e,r.TABLES.CONFIGS);return l?Object.assign.apply(null,l.data.map(s=>({[s.key]:parseInt(s.value[1])}))):{}}function kl(n){let e,l,t,a,s="New Worker Proposal",o,c,u,E,v,V,T,b,R,L,m,x,D,H,Y,P,C,G,k,S,y,B,U,X=`Upload document to IPFS via <a class="text-blue-500 underline" href="https://app.pinata.cloud/register" target="_blank">Pinata</a>
				then paste the hash here:`,K,q,h,O,A,Z,ce,me,oe;E=new sa({props:{class:"text-red-500 hover:cursor-pointer",size:"lg",strokeWidth:"3"}}),E.$on("click",n[11]);const Oe=[Ea,ba],$=[];function Ie(j,Q){return j[1]?0:1}return A=Ie(n),Z=$[A]=Oe[A](n),{c(){e=_("div"),l=_("div"),t=_("div"),a=_("h2"),a.textContent=s,o=N(),c=_("div"),u=N(),Ye(E.$$.fragment),v=N(),V=_("div"),T=_("input"),b=N(),R=_("input"),L=N(),m=_("div"),x=_("input"),D=N(),H=_("input"),Y=N(),P=_("div"),C=_("input"),G=N(),k=_("input"),S=N(),y=_("textarea"),B=N(),U=_("label"),U.innerHTML=X,K=N(),q=_("input"),h=N(),O=_("div"),Z.c(),this.h()},l(j){e=p(j,"DIV",{class:!0});var Q=g(e);l=p(Q,"DIV",{class:!0});var ae=g(l);t=p(ae,"DIV",{class:!0});var Se=g(t);a=p(Se,"H2",{class:!0,"data-svelte-h":!0}),te(a)!=="svelte-t5hgzg"&&(a.textContent=s),o=I(Se),c=p(Se,"DIV",{class:!0}),g(c).forEach(f),u=I(Se),Xe(E.$$.fragment,Se),Se.forEach(f),v=I(ae),V=p(ae,"DIV",{class:!0});var Te=g(V);T=p(Te,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),b=I(Te),R=p(Te,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),Te.forEach(f),L=I(ae),m=p(ae,"DIV",{class:!0});var M=g(m);x=p(M,"INPUT",{class:!0,type:!0,placeholder:!0}),D=I(M),H=p(M,"INPUT",{class:!0,type:!0,placeholder:!0}),M.forEach(f),Y=I(ae),P=p(ae,"DIV",{class:!0});var z=g(P);C=p(z,"INPUT",{class:!0,type:!0,placeholder:!0}),G=I(z),k=p(z,"INPUT",{class:!0,type:!0,placeholder:!0}),z.forEach(f),S=I(ae),y=p(ae,"TEXTAREA",{class:!0,placeholder:!0}),g(y).forEach(f),B=I(ae),U=p(ae,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),te(U)!=="svelte-3sw5o1"&&(U.innerHTML=X),K=I(ae),q=p(ae,"INPUT",{class:!0,type:!0,placeholder:!0}),h=I(ae),O=p(ae,"DIV",{class:!0});var De=g(O);Z.l(De),De.forEach(f),ae.forEach(f),Q.forEach(f),this.h()},h(){d(a,"class","text-white underline decoration-white underline-offset-4"),d(c,"class","grow"),d(t,"class","mb-5 flex flex-row"),d(T,"id","title"),d(T,"class","text-black svelte-ypotvo"),d(T,"type","text"),d(T,"placeholder","Title"),d(R,"id","job_duration"),d(R,"class","text-black svelte-ypotvo"),d(R,"type","number"),d(R,"placeholder","Job Duration Seconds"),d(V,"class","flex flex-col md:flex-row md:gap-5"),d(x,"class","text-black svelte-ypotvo"),d(x,"type","text"),d(x,"placeholder","Proposer"),x.disabled=!0,d(H,"class","text-black svelte-ypotvo"),d(H,"type","text"),d(H,"placeholder","Arbiter"),d(m,"class","flex flex-col md:flex-row md:gap-5"),d(C,"class","text-black svelte-ypotvo"),d(C,"type","number"),d(C,"placeholder","Proposal Pay TLM"),d(k,"class","text-black svelte-ypotvo"),d(k,"type","number"),d(k,"placeholder","Arbiter Pay TLM"),d(P,"class","flex flex-col md:flex-row md:gap-5"),d(y,"class","text-black svelte-ypotvo"),d(y,"placeholder","Summary"),d(U,"for","file-upload"),d(U,"class","file-upload__label"),d(q,"class","text-black svelte-ypotvo"),d(q,"type","text"),d(q,"placeholder","IPFS HASH TO DOCUMENT WITH MORE INFO"),d(O,"class","mt-2"),d(l,"class","modal-content bg-background-default-lighter svelte-ypotvo"),d(e,"class","modal svelte-ypotvo")},m(j,Q){W(j,e,Q),i(e,l),i(l,t),i(t,a),i(t,o),i(t,c),i(t,u),Ke(E,t,null),i(l,v),i(l,V),i(V,T),pe(T,n[3]),i(V,b),i(V,R),pe(R,n[9]),i(l,L),i(l,m),i(m,x),pe(x,n[2]),i(m,D),i(m,H),pe(H,n[5]),i(l,Y),i(l,P),i(P,C),pe(C,n[6]),i(P,G),i(P,k),pe(k,n[7]),i(l,S),i(l,y),pe(y,n[4]),i(l,B),i(l,U),i(l,K),i(l,q),pe(q,n[8]),i(l,h),i(l,O),$[A].m(O,null),ce=!0,me||(oe=[F(T,"input",n[15]),F(R,"input",n[16]),F(x,"input",n[17]),F(H,"input",n[18]),F(C,"input",n[19]),F(k,"input",n[20]),F(y,"input",n[21]),F(y,"input",ra),F(y,"focusin",n[22]),F(y,"focusout",n[23]),F(q,"input",n[24]),F(l,"click",ye(n[14]))],me=!0)},p(j,Q){Q&8&&T.value!==j[3]&&pe(T,j[3]),Q&512&&st(R.value)!==j[9]&&pe(R,j[9]),Q&4&&x.value!==j[2]&&pe(x,j[2]),Q&32&&H.value!==j[5]&&pe(H,j[5]),Q&64&&st(C.value)!==j[6]&&pe(C,j[6]),Q&128&&st(k.value)!==j[7]&&pe(k,j[7]),Q&16&&pe(y,j[4]),Q&256&&q.value!==j[8]&&pe(q,j[8]);let ae=A;A=Ie(j),A===ae?$[A].p(j,Q):(_t(),he($[ae],1,1,()=>{$[ae]=null}),pt(),Z=$[A],Z?Z.p(j,Q):(Z=$[A]=Oe[A](j),Z.c()),re(Z,1),Z.m(O,null))},i(j){ce||(re(E.$$.fragment,j),re(Z),ce=!0)},o(j){he(E.$$.fragment,j),he(Z),ce=!1},d(j){j&&f(e),Qe(E),$[A].d(),me=!1,Ct(oe)}}}function ba(n){let e,l="Create Proposal",t,a;return{c(){e=_("button"),e.textContent=l,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-103me0j"&&(e.textContent=l),this.h()},h(){d(e,"class","bg-green-500 text-white hover:bg-green-700 svelte-ypotvo")},m(s,o){W(s,e,o),t||(a=F(e,"click",n[10]),t=!0)},p:Ee,i:Ee,o:Ee,d(s){s&&f(e),t=!1,a()}}}function Ea(n){let e,l,t="Uploading file...",a,s,o;return s=new na({props:{color:"green"}}),{c(){e=_("div"),l=_("span"),l.textContent=t,a=N(),Ye(s.$$.fragment),this.h()},l(c){e=p(c,"DIV",{class:!0});var u=g(e);l=p(u,"SPAN",{class:!0,"data-svelte-h":!0}),te(l)!=="svelte-l9zzii"&&(l.textContent=t),a=I(u),Xe(s.$$.fragment,u),u.forEach(f),this.h()},h(){d(l,"class","mb-2"),d(e,"class","flex flex-col items-center")},m(c,u){W(c,e,u),i(e,l),i(e,a),Ke(s,e,null),o=!0},p:Ee,i(c){o||(re(s.$$.fragment,c),o=!0)},o(c){he(s.$$.fragment,c),o=!1},d(c){c&&f(e),Qe(s)}}}function Sa(n){let e,l,t=n[0]&&kl(n);return{c(){t&&t.c(),e=vt()},l(a){t&&t.l(a),e=vt()},m(a,s){t&&t.m(a,s),W(a,e,s),l=!0},p(a,[s]){a[0]?t?(t.p(a,s),s&1&&re(t,1)):(t=kl(a),t.c(),re(t,1),t.m(e.parentNode,e)):t&&(_t(),he(t,1,1,()=>{t=null}),pt())},i(a){l||(re(t),l=!0)},o(a){he(t),l=!1},d(a){a&&f(e),t&&t.d(a)}}}function ra(n){n.target.style.height="auto",n.target.style.height=n.target.scrollHeight+"px"}function ga(n){n.target.style.height="auto"}function Na(n,e,l){let t,a;bt(n,il,h=>l(27,t=h)),bt(n,ul,h=>l(28,a=h));let{isOpen:s=!1}=e,{onClose:o}=e,{onCreateProposal:c}=e,u=!1,E="",v=String(a==null?void 0:a.actor),V="",T="",b="",R=null,L=null,m="",x=null;ol(async()=>{await Y(),l(2,v=String(a==null?void 0:a.actor))});async function D(){l(1,u=!0);let h={proposer:v,title:V,summary:T,arbiter:b,proposal_pay:R,arbiter_pay:L,content_hash:m,id:E,job_duration:x};if(V===""){Pe.add("Please enter a title",Ae.WARNING),l(1,u=!1);return}if(T===""){Pe.add("Please enter a summary",Ae.WARNING),l(1,u=!1);return}if(b===""){Pe.add("Please enter an arbiter",Ae.WARNING),l(1,u=!1);return}if(x===null){Pe.add("Please enter a job duration",Ae.WARNING),l(1,u=!1);return}R===null&&(h.proposal_pay=0),L===null&&(h.arbiter_pay=0),await c(h).then(async O=>{l(1,u=!1),O&&H()}).catch(async O=>{l(1,u=!1),console.error("Error:",O)})}async function H(){l(3,V=""),l(4,T=""),l(5,b=""),l(6,R=null),l(7,L=null),l(8,m=""),l(9,x=null),o(),await Y()}async function Y(){const h="12345abcdefghijklmnopqrstuvwxyz";let O="",A=!1;for(;!A;){O="";for(let ce=0;ce<12;ce++)O+=h.charAt(Math.floor(Math.random()*h.length));const Z=await Ta(t.name,O);Z!=null&&Z.proposal_id||(A=!0)}E=O}function P(h){$l.call(this,n,h)}function C(){V=this.value,l(3,V)}function G(){x=st(this.value),l(9,x)}function k(){v=this.value,l(2,v)}function S(){b=this.value,l(5,b)}function y(){R=st(this.value),l(6,R)}function B(){L=st(this.value),l(7,L)}function U(){T=this.value,l(4,T)}const X=()=>ra(event),K=()=>ga(event);function q(){m=this.value,l(8,m)}return n.$$set=h=>{"isOpen"in h&&l(0,s=h.isOpen),"onClose"in h&&l(12,o=h.onClose),"onCreateProposal"in h&&l(13,c=h.onCreateProposal)},[s,u,v,V,T,b,R,L,m,x,D,H,o,c,P,C,G,k,S,y,B,U,X,K,q]}class Ia extends xt{constructor(e){super(),Bt(this,e,Na,Sa,Ut,{isOpen:0,onClose:12,onCreateProposal:13})}}function wl(n){let e,l,t,a,s=n[1]?"Delegate Vote":"Undelegate Vote",o,c,u,E,v,V,T,b,R,L,m,x="Submit",D,H,Y;v=new sa({props:{class:"text-red-500 hover:cursor-pointer",size:"lg",strokeWidth:"3"}}),v.$on("click",n[7]);let P=n[1]&&Dl(n),C=n[1]&&n[4]==="proposal"&&yl(n),G=(n[4]==="category"||!n[1])&&Vl(n),k=n[1]&&Ll(n);return{c(){e=_("div"),l=_("div"),t=_("div"),a=_("h2"),o=ne(s),c=N(),u=_("div"),E=N(),Ye(v.$$.fragment),V=N(),P&&P.c(),T=N(),C&&C.c(),b=N(),G&&G.c(),R=N(),k&&k.c(),L=N(),m=_("button"),m.textContent=x,this.h()},l(S){e=p(S,"DIV",{class:!0});var y=g(e);l=p(y,"DIV",{class:!0});var B=g(l);t=p(B,"DIV",{class:!0});var U=g(t);a=p(U,"H2",{class:!0});var X=g(a);o=se(X,s),X.forEach(f),c=I(U),u=p(U,"DIV",{class:!0}),g(u).forEach(f),E=I(U),Xe(v.$$.fragment,U),U.forEach(f),V=I(B),P&&P.l(B),T=I(B),C&&C.l(B),b=I(B),G&&G.l(B),R=I(B),k&&k.l(B),L=I(B),m=p(B,"BUTTON",{class:!0,"data-svelte-h":!0}),te(m)!=="svelte-9pgfga"&&(m.textContent=x),B.forEach(f),y.forEach(f),this.h()},h(){d(a,"class","text-white underline decoration-white underline-offset-4"),d(u,"class","flex-grow"),d(t,"class","mb-5 flex flex-row"),d(m,"class","bg-green-500 text-white hover:bg-green-700 svelte-15aemd9"),d(l,"class","modal-content bg-background-default-lighter svelte-15aemd9"),d(e,"class","modal svelte-15aemd9")},m(S,y){W(S,e,y),i(e,l),i(l,t),i(t,a),i(a,o),i(t,c),i(t,u),i(t,E),Ke(v,t,null),i(l,V),P&&P.m(l,null),i(l,T),C&&C.m(l,null),i(l,b),G&&G.m(l,null),i(l,R),k&&k.m(l,null),i(l,L),i(l,m),D=!0,H||(Y=[F(m,"click",n[6]),F(l,"click",ye(n[10])),F(e,"click",n[7])],H=!0)},p(S,y){(!D||y&2)&&s!==(s=S[1]?"Delegate Vote":"Undelegate Vote")&&we(o,s),S[1]?P?P.p(S,y):(P=Dl(S),P.c(),P.m(l,T)):P&&(P.d(1),P=null),S[1]&&S[4]==="proposal"?C?C.p(S,y):(C=yl(S),C.c(),C.m(l,b)):C&&(C.d(1),C=null),S[4]==="category"||!S[1]?G?G.p(S,y):(G=Vl(S),G.c(),G.m(l,R)):G&&(G.d(1),G=null),S[1]?k?k.p(S,y):(k=Ll(S),k.c(),k.m(l,L)):k&&(k.d(1),k=null)},i(S){D||(re(v.$$.fragment,S),D=!0)},o(S){he(v.$$.fragment,S),D=!1},d(S){S&&f(e),Qe(v),P&&P.d(),C&&C.d(),G&&G.d(),k&&k.d(),H=!1,Ct(Y)}}}function Dl(n){let e,l,t="Mode:",a,s,o,c="Delegate by Proposal",u,E="Delegate by Category",v,V;return{c(){e=_("div"),l=_("label"),l.textContent=t,a=N(),s=_("select"),o=_("option"),o.textContent=c,u=_("option"),u.textContent=E,this.h()},l(T){e=p(T,"DIV",{class:!0});var b=g(e);l=p(b,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),te(l)!=="svelte-rtssfn"&&(l.textContent=t),a=I(b),s=p(b,"SELECT",{id:!0,class:!0});var R=g(s);o=p(R,"OPTION",{"data-svelte-h":!0}),te(o)!=="svelte-sif8fm"&&(o.textContent=c),u=p(R,"OPTION",{"data-svelte-h":!0}),te(u)!=="svelte-1gwm52y"&&(u.textContent=E),R.forEach(f),b.forEach(f),this.h()},h(){d(l,"for","delegateMode"),d(l,"class","mb-2 text-white"),o.__value=r.DELEGATE_MODE.PROPOSAL,pe(o,o.__value),u.__value=r.DELEGATE_MODE.CATEGORY,pe(u,u.__value),d(s,"id","delegateMode"),d(s,"class","rounded border border-gray-300 text-black"),n[4]===void 0&&Ve(()=>n[11].call(s)),d(e,"class","mb-4 flex flex-col")},m(T,b){W(T,e,b),i(e,l),i(e,a),i(e,s),i(s,o),i(s,u),Nl(s,n[4],!0),v||(V=F(s,"change",n[11]),v=!0)},p(T,b){b&16&&Nl(s,T[4])},d(T){T&&f(e),v=!1,V()}}}function yl(n){let e,l,t;return{c(){e=_("input"),this.h()},l(a){e=p(a,"INPUT",{class:!0,type:!0,placeholder:!0}),this.h()},h(){d(e,"class","text-black svelte-15aemd9"),d(e,"type","text"),d(e,"placeholder","Proposal ID")},m(a,s){W(a,e,s),pe(e,n[2]),l||(t=F(e,"input",n[12]),l=!0)},p(a,s){s&4&&e.value!==a[2]&&pe(e,a[2])},d(a){a&&f(e),l=!1,t()}}}function Vl(n){let e,l,t;return{c(){e=_("input"),this.h()},l(a){e=p(a,"INPUT",{class:!0,type:!0,placeholder:!0}),this.h()},h(){d(e,"class","text-black svelte-15aemd9"),d(e,"type","number"),d(e,"placeholder","Category Num")},m(a,s){W(a,e,s),pe(e,n[5]),l||(t=F(e,"input",n[13]),l=!0)},p(a,s){s&32&&st(e.value)!==a[5]&&pe(e,a[5])},d(a){a&&f(e),l=!1,t()}}}function Ll(n){let e,l,t;return{c(){e=_("input"),this.h()},l(a){e=p(a,"INPUT",{class:!0,type:!0,placeholder:!0}),this.h()},h(){d(e,"class","text-black svelte-15aemd9"),d(e,"type","text"),d(e,"placeholder","Delegatee")},m(a,s){W(a,e,s),pe(e,n[3]),l||(t=F(e,"input",n[14]),l=!0)},p(a,s){s&8&&e.value!==a[3]&&pe(e,a[3])},d(a){a&&f(e),l=!1,t()}}}function Ra(n){let e,l,t=n[0]&&wl(n);return{c(){t&&t.c(),e=vt()},l(a){t&&t.l(a),e=vt()},m(a,s){t&&t.m(a,s),W(a,e,s),l=!0},p(a,[s]){a[0]?t?(t.p(a,s),s&1&&re(t,1)):(t=wl(a),t.c(),re(t,1),t.m(e.parentNode,e)):t&&(_t(),he(t,1,1,()=>{t=null}),pt())},i(a){l||(re(t),l=!0)},o(a){he(t),l=!1},d(a){a&&f(e),t&&t.d(a)}}}function Ca(n,e,l){let{isOpen:t=!1}=e,{isDelegate:a=!1}=e,{onClose:s}=e,{onDelegate:o}=e,c="",u="",E=r.DELEGATE_MODE.PROPOSAL,v="";async function V(){let D={};a?D={proposal_id:c,delegatee_custodian:u,delegate_mode:E,category:v}:D={category:v},await o(D).then(H=>{H&&T()})}function T(){l(2,c=""),l(3,u=""),l(4,E=r.DELEGATE_MODE.PROPOSAL),l(5,v=""),s()}function b(D){$l.call(this,n,D)}function R(){E=ia(this),l(4,E)}function L(){c=this.value,l(2,c)}function m(){v=st(this.value),l(5,v)}function x(){u=this.value,l(3,u)}return n.$$set=D=>{"isOpen"in D&&l(0,t=D.isOpen),"isDelegate"in D&&l(1,a=D.isDelegate),"onClose"in D&&l(8,s=D.onClose),"onDelegate"in D&&l(9,o=D.onDelegate)},[t,a,c,u,E,v,V,T,s,o,b,R,L,m,x]}class ka extends xt{constructor(e){super(),Bt(this,e,Ca,Ra,Ut,{isOpen:0,isDelegate:1,onClose:8,onDelegate:9})}}function Gl(n){let e,l,t,a="New Proposal",s,o,c,u,E="Approve",v,V,T,b,R="Deny",L,m,x,D,H="Agree",Y,P,C,G,k="Approve",S,y,B,U,X="Deny",K,q,h,O,A="Cancel",Z,ce,me,oe,Oe="Start Work",$,Ie,j,Q,ae="Complete",Se,Te,M,z,De="Dispute",lt,Je,rt,ve,ht="Finalize",We,Me,at,Re,Fe="Clear",Le,$e,ee,et,ot;return{c(){e=_("div"),l=_("div"),t=_("button"),t.textContent=a,c=N(),u=_("button"),u.textContent=E,T=N(),b=_("button"),b.textContent=R,x=N(),D=_("button"),D.textContent=H,C=N(),G=_("button"),G.textContent=k,B=N(),U=_("button"),U.textContent=X,h=N(),O=_("button"),O.textContent=A,me=N(),oe=_("button"),oe.textContent=Oe,j=N(),Q=_("button"),Q.textContent=ae,M=N(),z=_("button"),z.textContent=De,rt=N(),ve=_("button"),ve.textContent=ht,at=N(),Re=_("button"),Re.textContent=Fe,this.h()},l(w){e=p(w,"DIV",{class:!0});var de=g(e);l=p(de,"DIV",{class:!0});var ie=g(l);t=p(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),te(t)!=="svelte-vahd6k"&&(t.textContent=a),c=I(ie),u=p(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),te(u)!=="svelte-z8bt6d"&&(u.textContent=E),T=I(ie),b=p(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),te(b)!=="svelte-1bl0osj"&&(b.textContent=R),x=I(ie),D=p(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),te(D)!=="svelte-tm1a9v"&&(D.textContent=H),C=I(ie),G=p(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),te(G)!=="svelte-1ctf3jb"&&(G.textContent=k),B=I(ie),U=p(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),te(U)!=="svelte-knwy09"&&(U.textContent=X),h=I(ie),O=p(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),te(O)!=="svelte-14c06kn"&&(O.textContent=A),me=I(ie),oe=p(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),te(oe)!=="svelte-sstaaq"&&(oe.textContent=Oe),j=I(ie),Q=p(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),te(Q)!=="svelte-1sz9ruw"&&(Q.textContent=ae),M=I(ie),z=p(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),te(z)!=="svelte-19ara8b"&&(z.textContent=De),rt=I(ie),ve=p(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),te(ve)!=="svelte-1qs7gol"&&(ve.textContent=ht),at=I(ie),Re=p(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),te(Re)!=="svelte-lddbzl"&&(Re.textContent=Fe),ie.forEach(f),de.forEach(f),this.h()},h(){d(t,"class","min-w-8 basis-1/4 rounded-xl bg-indigo-500 p-2 text-sm font-bold text-white hover:bg-indigo-700"),d(u,"class","min-w-8 basis-1/4 rounded-xl bg-green-500 p-2 text-sm font-bold text-white hover:bg-green-700"),fe(u,"hidden",!(n[0].includes(r.ACTIONS.VOTE_PROPOSAL)||n[0].includes(r.ACTIONS.VOTE_FINISH_PROPOSAL))),d(b,"class","min-w-8 basis-1/4 rounded-xl bg-red-500 p-2 text-sm font-bold text-white hover:bg-red-700"),fe(b,"hidden",!(n[0].includes(r.ACTIONS.VOTE_PROPOSAL)||n[0].includes(r.ACTIONS.VOTE_FINISH_PROPOSAL))),d(D,"class","min-w-8 basis-1/4 rounded-xl bg-blue-500 p-2 text-sm font-bold text-white hover:bg-green-700"),fe(D,"hidden",!n[0].includes(r.ACTIONS.ARBITATOR_AGREE)),d(G,"class","min-w-8 basis-1/4 rounded-xl bg-green-500 p-2 text-sm font-bold text-white hover:bg-green-700"),fe(G,"hidden",!n[0].includes(r.ACTIONS.ARBIRATOR_VOTE)),d(U,"class","min-w-8 basis-1/4 rounded-xl bg-red-500 p-2 text-sm font-bold text-white hover:bg-red-700"),fe(U,"hidden",!n[0].includes(r.ACTIONS.ARBIRATOR_VOTE)),d(O,"class","min-w-8 basis-1/4 rounded-xl bg-gray-500 p-2 text-sm font-bold text-white hover:bg-gray-700"),fe(O,"hidden",!(n[0].includes(r.ACTIONS.CANCEL_PROPOSAL)||n[0].includes(r.ACTIONS.CANCEL_WIP_PROPOSAL))),d(oe,"class","min-w-8 basis-1/4 rounded-xl bg-blue-500 p-2 text-sm font-bold text-white hover:bg-blue-700"),fe(oe,"hidden",!n[0].includes(r.ACTIONS.START_WORK)),d(Q,"class","min-w-8 basis-1/4 rounded-xl bg-teal-500 p-2 text-sm font-bold text-white hover:bg-teal-700"),fe(Q,"hidden",!n[0].includes(r.ACTIONS.COMPLETE_WORK)),d(z,"class","min-w-8 basis-1/4 rounded-xl bg-purple-500 p-2 text-sm font-bold text-white hover:bg-purple-700"),fe(z,"hidden",!n[0].includes(r.ACTIONS.DISPUTE_UNAPPROVED_PROPOSAL)),d(ve,"class","min-w-8 basis-1/4 rounded-xl bg-yellow-500 p-2 text-sm font-bold text-white hover:bg-yellow-700"),fe(ve,"hidden",!n[0].includes(r.ACTIONS.FINALIZE_PROPOSAL)),d(Re,"class","min-w-8 basis-1/4 rounded-xl bg-red-500 p-2 text-sm font-bold text-white hover:bg-red-700"),fe(Re,"hidden",!n[0].includes(r.ACTIONS.CLEAR_EXPIRED_PROPOSAL)),d(l,"class","mb-20 flex flex-row-reverse flex-wrap justify-center gap-1 p-2 backdrop-blur-sm"),d(e,"class","fixed bottom-0 left-0 right-0 z-50 content-end md:hidden"),fe(e,"inset-0",n[1])},m(w,de){W(w,e,de),i(e,l),i(l,t),i(l,c),i(l,u),i(l,T),i(l,b),i(l,x),i(l,D),i(l,C),i(l,G),i(l,B),i(l,U),i(l,h),i(l,O),i(l,me),i(l,oe),i(l,j),i(l,Q),i(l,M),i(l,z),i(l,rt),i(l,ve),i(l,at),i(l,Re),ee=!0,et||(ot=[F(t,"click",ye(n[14])),F(u,"click",ye(n[15])),F(b,"click",ye(n[16])),F(D,"click",ye(n[17])),F(G,"click",ye(n[18])),F(U,"click",ye(n[19])),F(O,"click",ye(n[20])),F(oe,"click",ye(n[21])),F(Q,"click",ye(n[22])),F(z,"click",ye(n[23])),F(ve,"click",ye(n[24])),F(Re,"click",ye(n[25])),F(e,"click",n[26])],et=!0)},p(w,de){(!ee||de[0]&1)&&fe(u,"hidden",!(w[0].includes(r.ACTIONS.VOTE_PROPOSAL)||w[0].includes(r.ACTIONS.VOTE_FINISH_PROPOSAL))),(!ee||de[0]&1)&&fe(b,"hidden",!(w[0].includes(r.ACTIONS.VOTE_PROPOSAL)||w[0].includes(r.ACTIONS.VOTE_FINISH_PROPOSAL))),(!ee||de[0]&1)&&fe(D,"hidden",!w[0].includes(r.ACTIONS.ARBITATOR_AGREE)),(!ee||de[0]&1)&&fe(G,"hidden",!w[0].includes(r.ACTIONS.ARBIRATOR_VOTE)),(!ee||de[0]&1)&&fe(U,"hidden",!w[0].includes(r.ACTIONS.ARBIRATOR_VOTE)),(!ee||de[0]&1)&&fe(O,"hidden",!(w[0].includes(r.ACTIONS.CANCEL_PROPOSAL)||w[0].includes(r.ACTIONS.CANCEL_WIP_PROPOSAL))),(!ee||de[0]&1)&&fe(oe,"hidden",!w[0].includes(r.ACTIONS.START_WORK)),(!ee||de[0]&1)&&fe(Q,"hidden",!w[0].includes(r.ACTIONS.COMPLETE_WORK)),(!ee||de[0]&1)&&fe(z,"hidden",!w[0].includes(r.ACTIONS.DISPUTE_UNAPPROVED_PROPOSAL)),(!ee||de[0]&1)&&fe(ve,"hidden",!w[0].includes(r.ACTIONS.FINALIZE_PROPOSAL)),(!ee||de[0]&1)&&fe(Re,"hidden",!w[0].includes(r.ACTIONS.CLEAR_EXPIRED_PROPOSAL)),(!ee||de[0]&2)&&fe(e,"inset-0",w[1])},i(w){ee||(w&&Ve(()=>{ee&&(o&&o.end(1),s=Ue(t,_e,{axis:"y",duration:100,easing:Be}),s.start())}),w&&Ve(()=>{ee&&(V&&V.end(1),v=Ue(u,_e,{axis:"y",duration:100,easing:Be}),v.start())}),w&&Ve(()=>{ee&&(m&&m.end(1),L=Ue(b,_e,{axis:"y",duration:100,easing:Be}),L.start())}),w&&Ve(()=>{ee&&(P&&P.end(1),Y=Ue(D,_e,{axis:"y",duration:100,easing:Be}),Y.start())}),w&&Ve(()=>{ee&&(y&&y.end(1),S=Ue(G,_e,{axis:"y",duration:100,easing:Be}),S.start())}),w&&Ve(()=>{ee&&(q&&q.end(1),K=Ue(U,_e,{axis:"y",duration:100,easing:Be}),K.start())}),w&&Ve(()=>{ee&&(ce&&ce.end(1),Z=Ue(O,_e,{axis:"y",duration:100,easing:Be}),Z.start())}),w&&Ve(()=>{ee&&(Ie&&Ie.end(1),$=Ue(oe,_e,{axis:"y",duration:100,easing:Be}),$.start())}),w&&Ve(()=>{ee&&(Te&&Te.end(1),Se=Ue(Q,_e,{axis:"y",duration:100,easing:Be}),Se.start())}),w&&Ve(()=>{ee&&(Je&&Je.end(1),lt=Ue(z,_e,{axis:"y",duration:100,easing:Be}),lt.start())}),w&&Ve(()=>{ee&&(Me&&Me.end(1),We=Ue(ve,_e,{axis:"y",duration:100,easing:Be}),We.start())}),w&&Ve(()=>{ee&&($e&&$e.end(1),Le=Ue(Re,_e,{axis:"y",duration:100,easing:Be}),Le.start())}),ee=!0)},o(w){s&&s.invalidate(),w&&(o=xe(t,_e,{axis:"y",duration:100,easing:He})),v&&v.invalidate(),w&&(V=xe(u,_e,{axis:"y",duration:100,easing:He})),L&&L.invalidate(),w&&(m=xe(b,_e,{axis:"y",duration:100,easing:He})),Y&&Y.invalidate(),w&&(P=xe(D,_e,{axis:"y",duration:100,easing:He})),S&&S.invalidate(),w&&(y=xe(G,_e,{axis:"y",duration:100,easing:He})),K&&K.invalidate(),w&&(q=xe(U,_e,{axis:"y",duration:100,easing:He})),Z&&Z.invalidate(),w&&(ce=xe(O,_e,{axis:"y",duration:100,easing:He})),$&&$.invalidate(),w&&(Ie=xe(oe,_e,{axis:"y",duration:100,easing:He})),Se&&Se.invalidate(),w&&(Te=xe(Q,_e,{axis:"y",duration:100,easing:He})),lt&&lt.invalidate(),w&&(Je=xe(z,_e,{axis:"y",duration:100,easing:He})),We&&We.invalidate(),w&&(Me=xe(ve,_e,{axis:"y",duration:100,easing:He})),Le&&Le.invalidate(),w&&($e=xe(Re,_e,{axis:"y",duration:100,easing:He})),ee=!1},d(w){w&&f(e),w&&o&&o.end(),w&&V&&V.end(),w&&m&&m.end(),w&&P&&P.end(),w&&y&&y.end(),w&&q&&q.end(),w&&ce&&ce.end(),w&&Ie&&Ie.end(),w&&Te&&Te.end(),w&&Je&&Je.end(),w&&Me&&Me.end(),w&&$e&&$e.end(),et=!1,Ct(ot)}}}function wa(n){let e,l="Login to call actions";return{c(){e=_("p"),e.textContent=l,this.h()},l(t){e=p(t,"P",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-bvnls2"&&(e.textContent=l),this.h()},h(){d(e,"class","mt-5 text-center")},m(t,a){W(t,e,a)},p:Ee,d(t){t&&f(e)}}}function Da(n){let e,l,t="New Proposal",a,s=n[0].includes(r.ACTIONS.VOTE_PROPOSAL)||n[0].includes(r.ACTIONS.VOTE_FINISH_PROPOSAL),o,c=n[0].includes(r.ACTIONS.ARBITATOR_AGREE),u,E=n[0].includes(r.ACTIONS.ARBIRATOR_VOTE),v,V=n[0].includes(r.ACTIONS.CANCEL_PROPOSAL)||n[0].includes(r.ACTIONS.CANCEL_WIP_PROPOSAL),T,b=n[0].includes(r.ACTIONS.START_WORK),R,L=n[0].includes(r.ACTIONS.COMPLETE_WORK),m,x=n[0].includes(r.ACTIONS.DISPUTE_UNAPPROVED_PROPOSAL),D,H=n[0].includes(r.ACTIONS.FINALIZE_PROPOSAL),Y,P=n[0].includes(r.ACTIONS.CLEAR_EXPIRED_PROPOSAL),C,G,k=s&&Ul(n),S=c&&xl(n),y=E&&Bl(n),B=V&&Hl(n),U=b&&Wl(n),X=L&&Ml(n),K=x&&Fl(n),q=H&&zl(n),h=P&&jl(n);return{c(){e=_("div"),l=_("button"),l.textContent=t,a=N(),k&&k.c(),o=N(),S&&S.c(),u=N(),y&&y.c(),v=N(),B&&B.c(),T=N(),U&&U.c(),R=N(),X&&X.c(),m=N(),K&&K.c(),D=N(),q&&q.c(),Y=N(),h&&h.c(),this.h()},l(O){e=p(O,"DIV",{class:!0});var A=g(e);l=p(A,"BUTTON",{class:!0,"data-svelte-h":!0}),te(l)!=="svelte-13f65cc"&&(l.textContent=t),a=I(A),k&&k.l(A),o=I(A),S&&S.l(A),u=I(A),y&&y.l(A),v=I(A),B&&B.l(A),T=I(A),U&&U.l(A),R=I(A),X&&X.l(A),m=I(A),K&&K.l(A),D=I(A),q&&q.l(A),Y=I(A),h&&h.l(A),A.forEach(f),this.h()},h(){d(l,"class","m-1 min-w-32 grow rounded-xl bg-indigo-500 p-2 font-bold text-white hover:bg-indigo-700"),d(e,"class","mt-5 hidden max-w-32 flex-wrap justify-center md:flex")},m(O,A){W(O,e,A),i(e,l),i(e,a),k&&k.m(e,null),i(e,o),S&&S.m(e,null),i(e,u),y&&y.m(e,null),i(e,v),B&&B.m(e,null),i(e,T),U&&U.m(e,null),i(e,R),X&&X.m(e,null),i(e,m),K&&K.m(e,null),i(e,D),q&&q.m(e,null),i(e,Y),h&&h.m(e,null),C||(G=F(l,"click",n[27]),C=!0)},p(O,A){A[0]&1&&(s=O[0].includes(r.ACTIONS.VOTE_PROPOSAL)||O[0].includes(r.ACTIONS.VOTE_FINISH_PROPOSAL)),s?k?k.p(O,A):(k=Ul(O),k.c(),k.m(e,o)):k&&(k.d(1),k=null),A[0]&1&&(c=O[0].includes(r.ACTIONS.ARBITATOR_AGREE)),c?S?S.p(O,A):(S=xl(O),S.c(),S.m(e,u)):S&&(S.d(1),S=null),A[0]&1&&(E=O[0].includes(r.ACTIONS.ARBIRATOR_VOTE)),E?y?y.p(O,A):(y=Bl(O),y.c(),y.m(e,v)):y&&(y.d(1),y=null),A[0]&1&&(V=O[0].includes(r.ACTIONS.CANCEL_PROPOSAL)||O[0].includes(r.ACTIONS.CANCEL_WIP_PROPOSAL)),V?B?B.p(O,A):(B=Hl(O),B.c(),B.m(e,T)):B&&(B.d(1),B=null),A[0]&1&&(b=O[0].includes(r.ACTIONS.START_WORK)),b?U?U.p(O,A):(U=Wl(O),U.c(),U.m(e,R)):U&&(U.d(1),U=null),A[0]&1&&(L=O[0].includes(r.ACTIONS.COMPLETE_WORK)),L?X?X.p(O,A):(X=Ml(O),X.c(),X.m(e,m)):X&&(X.d(1),X=null),A[0]&1&&(x=O[0].includes(r.ACTIONS.DISPUTE_UNAPPROVED_PROPOSAL)),x?K?K.p(O,A):(K=Fl(O),K.c(),K.m(e,D)):K&&(K.d(1),K=null),A[0]&1&&(H=O[0].includes(r.ACTIONS.FINALIZE_PROPOSAL)),H?q?q.p(O,A):(q=zl(O),q.c(),q.m(e,Y)):q&&(q.d(1),q=null),A[0]&1&&(P=O[0].includes(r.ACTIONS.CLEAR_EXPIRED_PROPOSAL)),P?h?h.p(O,A):(h=jl(O),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},d(O){O&&f(e),k&&k.d(),S&&S.d(),y&&y.d(),B&&B.d(),U&&U.d(),X&&X.d(),K&&K.d(),q&&q.d(),h&&h.d(),C=!1,G()}}}function Ul(n){let e,l="Approve",t,a,s="Deny",o,c;return{c(){e=_("button"),e.textContent=l,t=N(),a=_("button"),a.textContent=s,this.h()},l(u){e=p(u,"BUTTON",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1u57v5m"&&(e.textContent=l),t=I(u),a=p(u,"BUTTON",{class:!0,"data-svelte-h":!0}),te(a)!=="svelte-1sluqu0"&&(a.textContent=s),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-green-500 p-2 font-bold text-white hover:bg-green-700"),d(a,"class","m-1 min-w-32 grow rounded-xl bg-red-500 p-2 font-bold text-white hover:bg-red-700")},m(u,E){W(u,e,E),W(u,t,E),W(u,a,E),o||(c=[F(e,"click",n[28]),F(a,"click",n[29])],o=!0)},p:Ee,d(u){u&&(f(e),f(t),f(a)),o=!1,Ct(c)}}}function xl(n){let e,l="Agree",t,a;return{c(){e=_("button"),e.textContent=l,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-4kvnd1"&&(e.textContent=l),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-blue-500 p-2 font-bold text-white hover:bg-green-700")},m(s,o){W(s,e,o),t||(a=F(e,"click",n[30]),t=!0)},p:Ee,d(s){s&&f(e),t=!1,a()}}}function Bl(n){let e,l="Approve",t,a,s="Deny",o,c;return{c(){e=_("button"),e.textContent=l,t=N(),a=_("button"),a.textContent=s,this.h()},l(u){e=p(u,"BUTTON",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-5y6g91"&&(e.textContent=l),t=I(u),a=p(u,"BUTTON",{class:!0,"data-svelte-h":!0}),te(a)!=="svelte-1b5gxqz"&&(a.textContent=s),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-green-500 p-2 font-bold text-white hover:bg-green-700"),d(a,"class","m-1 min-w-32 grow rounded-xl bg-red-500 p-2 font-bold text-white hover:bg-red-700")},m(u,E){W(u,e,E),W(u,t,E),W(u,a,E),o||(c=[F(e,"click",n[31]),F(a,"click",n[32])],o=!0)},p:Ee,d(u){u&&(f(e),f(t),f(a)),o=!1,Ct(c)}}}function Hl(n){let e,l="Cancel",t,a;return{c(){e=_("button"),e.textContent=l,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-ig76ar"&&(e.textContent=l),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-gray-500 p-2 font-bold text-white hover:bg-gray-700")},m(s,o){W(s,e,o),t||(a=F(e,"click",n[33]),t=!0)},p:Ee,d(s){s&&f(e),t=!1,a()}}}function Wl(n){let e,l="Start Work",t,a;return{c(){e=_("button"),e.textContent=l,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-xr2ryn"&&(e.textContent=l),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-blue-500 p-2 font-bold text-white hover:bg-blue-700")},m(s,o){W(s,e,o),t||(a=F(e,"click",n[34]),t=!0)},p:Ee,d(s){s&&f(e),t=!1,a()}}}function Ml(n){let e,l="Complete",t,a;return{c(){e=_("button"),e.textContent=l,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1ptlenk"&&(e.textContent=l),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-teal-500 p-2 font-bold text-white hover:bg-teal-700")},m(s,o){W(s,e,o),t||(a=F(e,"click",n[35]),t=!0)},p:Ee,d(s){s&&f(e),t=!1,a()}}}function Fl(n){let e,l="Dispute",t,a;return{c(){e=_("button"),e.textContent=l,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1xqt8jt"&&(e.textContent=l),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-purple-500 p-2 font-bold text-white hover:bg-purple-700")},m(s,o){W(s,e,o),t||(a=F(e,"click",n[36]),t=!0)},p:Ee,d(s){s&&f(e),t=!1,a()}}}function zl(n){let e,l="Finalize",t,a;return{c(){e=_("button"),e.textContent=l,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-lzi2gb"&&(e.textContent=l),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-yellow-500 p-2 font-bold text-white hover:bg-yellow-700")},m(s,o){W(s,e,o),t||(a=F(e,"click",n[37]),t=!0)},p:Ee,d(s){s&&f(e),t=!1,a()}}}function jl(n){let e,l="Clear",t,a;return{c(){e=_("button"),e.textContent=l,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-m2zeaa"&&(e.textContent=l),this.h()},h(){d(e,"class","m-1 min-w-32 grow rounded-xl bg-red-500 p-2 font-bold text-white hover:bg-red-700")},m(s,o){W(s,e,o),t||(a=F(e,"click",n[38]),t=!0)},p:Ee,d(s){s&&f(e),t=!1,a()}}}function ya(n){let e,l,t=n[2]&&n[1]&&Gl(n);function a(c,u){return c[2]?Da:wa}let s=a(n),o=s(n);return{c(){t&&t.c(),e=N(),o.c(),l=vt()},l(c){t&&t.l(c),e=I(c),o.l(c),l=vt()},m(c,u){t&&t.m(c,u),W(c,e,u),o.m(c,u),W(c,l,u)},p(c,u){c[2]&&c[1]?t?(t.p(c,u),u[0]&6&&re(t,1)):(t=Gl(c),t.c(),re(t,1),t.m(e.parentNode,e)):t&&(_t(),he(t,1,1,()=>{t=null}),pt()),s===(s=a(c))&&o?o.p(c,u):(o.d(1),o=s(c),o&&(o.c(),o.m(l.parentNode,l)))},d(c){c&&(f(e),f(l)),t&&t.d(c),o.d(c)}}}function Va(n){let e,l,t;function a(o){n[39](o)}let s={$$slots:{default:[ya]},$$scope:{ctx:n}};return n[1]!==void 0&&(s.showActions=n[1]),e=new pa({props:s}),ua.push(()=>fa(e,"showActions",a)),{c(){Ye(e.$$.fragment)},l(o){Xe(e.$$.fragment,o)},m(o,c){Ke(e,o,c),t=!0},p(o,c){const u={};c[0]&7|c[1]&32768&&(u.$$scope={dirty:c,ctx:o}),!l&&c[0]&2&&(l=!0,u.showActions=o[1],ca(()=>l=!1)),e.$set(u)},i(o){t||(re(e.$$.fragment,o),t=!0)},o(o){he(e.$$.fragment,o),t=!1},d(o){Qe(e,o)}}}function La(n,e,l){let t,a;bt(n,ul,M=>l(2,t=M)),bt(n,il,M=>l(40,a=M));let{selectedProposal:s={}}=e,o=[];const c=da();let u=!1;ol(async()=>{V()}),ea(async()=>{V()});function E(){c("new_proposal",{})}function v(){c("refresh")}function V(){if(s&&t)switch(l(0,o=[]),s.state){case r.PROP_STATE.PENDING_APPROVAL.value:case r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value:l(0,o=[]),o.push(r.ACTIONS.VOTE_PROPOSAL),s.proposer==t.actor&&(o.push(r.ACTIONS.CANCEL_PROPOSAL),o.push(r.ACTIONS.START_WORK)),s.arbiter==t.actor&&!s.arbiter_agreed&&o.push(r.ACTIONS.ARBITATOR_AGREE);break;case r.PROP_STATE.IN_PROGRESS.value:s.proposer==t.actor&&l(0,o=[r.ACTIONS.COMPLETE_WORK,r.ACTIONS.CANCEL_WIP_PROPOSAL]);break;case r.PROP_STATE.PENDING_FINALIZE.value:l(0,o=[r.ACTIONS.FINALIZE_PROPOSAL]),o.push(r.ACTIONS.VOTE_FINISH_PROPOSAL),s.proposer==t.actor&&(o.push(r.ACTIONS.CANCEL_WIP_PROPOSAL),o.push(r.ACTIONS.DISPUTE_UNAPPROVED_PROPOSAL));break;case r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value:l(0,o=[r.ACTIONS.FINALIZE_PROPOSAL]),o.push(r.ACTIONS.VOTE_FINISH_PROPOSAL);break;case r.PROP_STATE.DISPUTED.value:s.arbiter==t.actor&&l(0,o=[r.ACTIONS.ARBIRATOR_VOTE]);break;case r.PROP_STATE.EXPIRED.value:l(0,o=[r.ACTIONS.CLEAR_EXPIRED_PROPOSAL]);break;default:l(0,o=[]);break}else l(0,o=[])}async function T(M){if(!t){Pe.add("Please login to vote",Ae.WARNING);return}let z="";switch(s.state){case r.PROP_STATE.PENDING_APPROVAL.value:case r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value:z=r.ACTIONS.VOTE_PROPOSAL;break;case r.PROP_STATE.PENDING_FINALIZE.value:case r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value:z=r.ACTIONS.FINALIZE_PROPOSAL;break;default:Pe.add("Proposal is not in a state to be voted on",Ae.WARNING);return}let De=[{account:r.CONTRACT_NAME,name:z,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)},{actor:String(a.account),permission:"one"}],data:{custodian:t.actor,proposal_id:s.proposal_id,vote:M,dac_id:a.scope}}];await Ze(t,De).then(()=>{v()})}async function b(M){if(!t){Pe.add("Please login to vote",Ae.WARNING);return}let z="";switch(M){case r.VOTE.VOTE_APPROVE.value:z=r.ACTIONS.ARBIRATOR_APPROVE;break;case r.VOTE.VOTE_DENY.value:z=r.ACTIONS.ARBIRATOR_DENY;break;default:Pe.add("Error",Ae.WARNING);return}let De=[{account:r.CONTRACT_NAME,name:z,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{arbiter:t.actor,proposal_id:s.proposal_id,dac_id:a.scope}}];await Ze(t,De).then(()=>{v()})}async function R(){if(!t){Pe.add("Please login to vote",Ae.WARNING);return}let M=r.ACTIONS.ARBITATOR_AGREE,z=[{account:r.CONTRACT_NAME,name:M,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{arbiter:t.actor,proposal_id:s.proposal_id,dac_id:a.scope}}];await Ze(t,z).then(()=>{v()})}async function L(){if(!t){Pe.add("Please login to vote",Ae.WARNING);return}let M="";switch(s.state){case r.PROP_STATE.PENDING_APPROVAL.value:case r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value:M=r.ACTIONS.CANCEL_PROPOSAL;break;case r.PROP_STATE.PENDING_FINALIZE.value:case r.PROP_STATE.IN_PROGRESS.value:M=r.ACTIONS.CANCEL_WIP_PROPOSAL;break;default:Pe.add("Proposal is not in a state to be canceled on",Ae.WARNING);return}let z=[{account:r.CONTRACT_NAME,name:M,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{proposal_id:s.proposal_id,dac_id:a.scope}}];await Ze(t,z).then(()=>{v()})}async function m(){if(!t){Pe.add("Please login to vote",Ae.WARNING);return}let M="";switch(s.state){case r.PROP_STATE.PENDING_APPROVAL.value:case r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value:M=r.ACTIONS.START_WORK;break;default:Pe.add("Proposal is not in a state to start work",Ae.WARNING);return}let z=[{account:r.CONTRACT_NAME,name:M,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{proposal_id:s.proposal_id,dac_id:a.scope}}];await Ze(t,z).then(()=>{v()})}async function x(){if(!t){Pe.add("Please login to vote",Ae.WARNING);return}let M="";switch(s.state){case r.PROP_STATE.IN_PROGRESS.value:M=r.ACTIONS.COMPLETE_WORK;break;default:Pe.add("Proposal is not in a state to complete work",Ae.WARNING);return}let z=[{account:r.CONTRACT_NAME,name:M,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{proposal_id:s.proposal_id,dac_id:a.scope}}];await Ze(t,z).then(()=>{v()})}async function D(){if(!t){Pe.add("Please login to vote",Ae.WARNING);return}let M="";switch(s.state){case r.PROP_STATE.PENDING_FINALIZE.value:M=r.ACTIONS.DISPUTE_UNAPPROVED_PROPOSAL;break;default:Pe.add("Proposal is not in a state to dispute",Ae.WARNING);return}let z=[{account:r.CONTRACT_NAME,name:M,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{proposal_id:s.proposal_id,dac_id:a.scope}}];await Ze(t,z).then(()=>{v()})}async function H(){if(!t){Pe.add("Please login to vote",Ae.WARNING);return}let M="";switch(s.state){case r.PROP_STATE.PENDING_FINALIZE.value:case r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value:M=r.ACTIONS.FINALIZE_PROPOSAL;break;default:Pe.add("Proposal is not in a state to finalize",Ae.WARNING);return}let z=[{account:r.CONTRACT_NAME,name:M,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{proposal_id:s.proposal_id,dac_id:a.scope}}];await Ze(t,z).then(()=>{v()})}async function Y(){if(!t){Pe.add("Please login to vote",Ae.WARNING);return}let M="";switch(s.state){case r.PROP_STATE.EXPIRED.value:M=r.ACTIONS.CLEAR_EXPIRED_PROPOSAL;break;default:Pe.add("Proposal is not in a state to finalize",Ae.WARNING);return}let z=[{account:r.CONTRACT_NAME,name:M,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{proposal_id:s.proposal_id,dac_id:a.scope}}];await Ze(t,z).then(()=>{v()})}const P=()=>{l(1,u=!1),E()},C=()=>T(r.VOTE.VOTE_APPROVE.value),G=()=>T(r.VOTE.VOTE_DENY.value),k=()=>R(),S=()=>b(r.VOTE.VOTE_APPROVE.value),y=()=>b(r.VOTE.VOTE_DENY.value),B=()=>L(),U=()=>m(),X=()=>x(),K=()=>D(),q=()=>H(),h=()=>Y(),O=()=>l(1,u=!1),A=()=>E(),Z=()=>T(r.VOTE.VOTE_APPROVE.value),ce=()=>T(r.VOTE.VOTE_DENY.value),me=()=>R(),oe=()=>b(r.VOTE.VOTE_APPROVE.value),Oe=()=>b(r.VOTE.VOTE_DENY.value),$=()=>L(),Ie=()=>m(),j=()=>x(),Q=()=>D(),ae=()=>H(),Se=()=>Y();function Te(M){u=M,l(1,u)}return n.$$set=M=>{"selectedProposal"in M&&l(13,s=M.selectedProposal)},[o,u,t,E,T,b,R,L,m,x,D,H,Y,s,P,C,G,k,S,y,B,U,X,K,q,h,O,A,Z,ce,me,oe,Oe,$,Ie,j,Q,ae,Se,Te]}class Ga extends xt{constructor(e){super(),Bt(this,e,La,Va,Ut,{selectedProposal:13},null,[-1,-1])}}function ql(n,e,l){const t=n.slice();return t[29]=e[l],t}function Zl(n,e,l){const t=n.slice();return t[32]=e[l],t}function Yl(n,e,l){const t=n.slice();return t[32]=e[l],t}function Ua(n){let e,l,t=mt(n[0]),a=[];for(let o=0;o<t.length;o+=1)a[o]=Jl(ql(n,t,o));const s=o=>he(a[o],1,1,()=>{a[o]=null});return{c(){e=_("div");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=p(o,"DIV",{class:!0});var c=g(e);for(let u=0;u<a.length;u+=1)a[u].l(c);c.forEach(f),this.h()},h(){d(e,"class","my-4 flex flex-col gap-6 md:my-5")},m(o,c){W(o,e,c);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);l=!0},p(o,c){if(c[0]&1580933){t=mt(o[0]);let u;for(u=0;u<t.length;u+=1){const E=ql(o,t,u);a[u]?(a[u].p(E,c),re(a[u],1)):(a[u]=Jl(E),a[u].c(),re(a[u],1),a[u].m(e,null))}for(_t(),u=t.length;u<a.length;u+=1)s(u);pt()}},i(o){if(!l){for(let c=0;c<t.length;c+=1)re(a[c]);l=!0}},o(o){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)he(a[c]);l=!1},d(o){o&&f(e),sl(a,o)}}}function xa(n){let e,l="No Data";return{c(){e=_("div"),e.textContent=l,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-kk2ddf"&&(e.textContent=l),this.h()},h(){d(e,"class","flex justify-center")},m(t,a){W(t,e,a)},p:Ee,i:Ee,o:Ee,d(t){t&&f(e)}}}function Ba(n){let e,l,t;return l=new na({props:{color:"purple"}}),{c(){e=_("div"),Ye(l.$$.fragment),this.h()},l(a){e=p(a,"DIV",{class:!0});var s=g(e);Xe(l.$$.fragment,s),s.forEach(f),this.h()},h(){d(e,"class","flex justify-center")},m(a,s){W(a,e,s),Ke(l,e,null),t=!0},p:Ee,i(a){t||(re(l.$$.fragment,a),t=!0)},o(a){he(l.$$.fragment,a),t=!1},d(a){a&&f(e),Qe(l)}}}function Xl(n){let e,l;return e=new Oa({props:{color:"#ecc94b",size:"24"}}),{c(){Ye(e.$$.fragment)},l(t){Xe(e.$$.fragment,t)},m(t,a){Ke(e,t,a),l=!0},i(t){l||(re(e.$$.fragment,t),l=!0)},o(t){he(e.$$.fragment,t),l=!1},d(t){Qe(e,t)}}}function Ha(n){let e=n[8](n[29].state)+"",l;return{c(){l=ne(e)},l(t){l=se(t,e)},m(t,a){W(t,l,a)},p(t,a){a[0]&1&&e!==(e=t[8](t[29].state)+"")&&we(l,e)},d(t){t&&f(l)}}}function Kl(n){let e=n[32]+"",l,t;return{c(){l=ne(e),t=_("br")},l(a){l=se(a,e),t=p(a,"BR",{})},m(a,s){W(a,l,s),W(a,t,s)},p(a,s){s[0]&1&&e!==(e=a[32]+"")&&we(l,e)},d(a){a&&(f(l),f(t))}}}function Ql(n){let e=n[32]+"",l,t;return{c(){l=ne(e),t=_("br")},l(a){l=se(a,e),t=p(a,"BR",{})},m(a,s){W(a,l,s),W(a,t,s)},p(a,s){s[0]&1&&e!==(e=a[32]+"")&&we(l,e)},d(a){a&&(f(l),f(t))}}}function Wa(n){let e,l,t,a,s,o,c=n[10](n[29])+"",u,E,v,V,T,b=n[11](n[29])+"",R;return{c(){e=_("div"),l=N(),t=_("div"),a=_("div"),s=ne("Approved by: "),o=_("span"),u=ne(c),E=N(),v=_("div"),V=ne("Denied by: "),T=_("span"),R=ne(b),this.h()},l(L){e=p(L,"DIV",{class:!0}),g(e).forEach(f),l=I(L),t=p(L,"DIV",{class:!0});var m=g(t);a=p(m,"DIV",{class:!0});var x=g(a);s=se(x,"Approved by: "),o=p(x,"SPAN",{class:!0});var D=g(o);u=se(D,c),D.forEach(f),x.forEach(f),E=I(m),v=p(m,"DIV",{class:!0});var H=g(v);V=se(H,"Denied by: "),T=p(H,"SPAN",{class:!0});var Y=g(T);R=se(Y,b),Y.forEach(f),H.forEach(f),m.forEach(f),this.h()},h(){d(e,"class","mx-auto mt-5 border-t-2 border-dotted border-gray-500 md:w-2/3"),d(o,"class","text-white"),d(a,"class","text-sm md:text-base"),d(T,"class","text-white"),d(v,"class","mt-1 text-sm md:text-base"),d(t,"class","mt-2 text-start")},m(L,m){W(L,e,m),W(L,l,m),W(L,t,m),i(t,a),i(a,s),i(a,o),i(o,u),i(t,E),i(t,v),i(v,V),i(v,T),i(T,R)},p(L,m){m[0]&1&&c!==(c=L[10](L[29])+"")&&we(u,c),m[0]&1&&b!==(b=L[11](L[29])+"")&&we(R,b)},d(L){L&&(f(e),f(l),f(t))}}}function Ma(n){let e;return{c(){e=_("div")},l(l){e=p(l,"DIV",{}),g(e).forEach(f)},m(l,t){W(l,e,t)},p:Ee,d(l){l&&f(e)}}}function Jl(n){var fl,_l,pl,hl,Ol;let e,l,t,a,s,o,c,u,E,v=n[29].proposal_id+"",V,T,b,R,L,m,x=n[9](n[29])+"",D,H,Y,P,C,G,k=n[29].proposer+"",S,y,B,U,X,K=n[29].proposal_pay.quantity+"",q,h,O,A,Z,ce,me,oe,Oe,$,Ie,j,Q=n[29].arbiter+"",ae,Se,Te,M,z=n[29].arbiter_agreed?"Agreed":"Waiting",De,lt,Je,rt,ve,ht,We,Me=n[29].arbiter_pay.quantity+"",at,Re,Fe,Le,$e,ee,et=rl(`${n[29].expiry}`).format("YYYY-MM-DD HH:mm:ss")+"",ot,w,de,ie,Ot,Et=n[12](n[29].job_duration)+"",kt,Mt,St,Ft,nt,it,zt,ut,jt,ct,qt,dt,Zt,wt,Yt,gt,Xt,Ce,Kt,cl,be=n[2]&&n[2].proposal_id==((fl=n[29])==null?void 0:fl.proposal_id)&&Xl();R=new ha({props:{color:n[20](n[29].state),$$slots:{default:[Ha]},$$scope:{ctx:n}}});let Pt=mt((pl=(_l=n[29])==null?void 0:_l.title)==null?void 0:pl.split(`
`)),ge=[];for(let J=0;J<Pt.length;J+=1)ge[J]=Kl(Yl(n,Pt,J));let At=mt((Ol=(hl=n[29])==null?void 0:hl.summary)==null?void 0:Ol.split(`
`)),Ne=[];for(let J=0;J<At.length;J+=1)Ne[J]=Ql(Zl(n,At,J));function dl(J,le){return J[29].state==r.PROP_STATE.EXPIRED.value||J[29].state==r.PROP_STATE.DISPUTED.value?Ma:Wa}let Dt=dl(n),ze=Dt(n);function oa(){return n[21](n[29])}return{c(){e=_("button"),l=_("div"),be&&be.c(),t=N(),a=_("div"),s=_("div"),o=_("div"),c=_("div"),u=ne("#: "),E=_("span"),V=ne(v),T=N(),b=_("div"),Ye(R.$$.fragment),L=N(),m=_("div"),D=ne(x),H=N(),Y=_("div"),P=_("div"),C=ne("Proposer: "),G=_("span"),S=ne(k),y=N(),B=_("div"),U=ne("Proposer Pay: "),X=_("span"),q=ne(K),h=N(),O=_("div"),A=ne("Document: "),Z=_("a"),ce=ne("Get File"),oe=N(),Oe=_("div"),$=_("div"),Ie=ne("Arbiter: "),j=_("span"),ae=ne(Q),Se=N(),Te=_("span"),M=ne("("),De=ne(z),lt=ne(")"),rt=N(),ve=_("div"),ht=ne("Arbiter Pay: "),We=_("span"),at=ne(Me),Re=N(),Fe=_("div"),Le=_("div"),$e=ne("Expired At: "),ee=_("span"),ot=ne(et),w=N(),de=_("div"),ie=ne("Duration: "),Ot=_("span"),kt=ne(Et),Mt=N(),St=_("div"),Ft=N(),nt=_("div"),it=_("div"),zt=ne("Title: "),ut=_("span");for(let J=0;J<ge.length;J+=1)ge[J].c();jt=N(),ct=_("div"),qt=ne("Summary: "),dt=_("span");for(let J=0;J<Ne.length;J+=1)Ne[J].c();Zt=N(),ze.c(),Yt=N(),gt=_("div"),Xt=N(),this.h()},l(J){e=p(J,"BUTTON",{class:!0});var le=g(e);l=p(le,"DIV",{class:!0});var ke=g(l);be&&be.l(ke),ke.forEach(f),t=I(le),a=p(le,"DIV",{class:!0});var je=g(a);s=p(je,"DIV",{class:!0});var qe=g(s);o=p(qe,"DIV",{class:!0});var tt=g(o);c=p(tt,"DIV",{class:!0});var Tt=g(c);u=se(Tt,"#: "),E=p(Tt,"SPAN",{class:!0});var Nt=g(E);V=se(Nt,v),Nt.forEach(f),Tt.forEach(f),T=I(tt),b=p(tt,"DIV",{class:!0});var It=g(b);Xe(R.$$.fragment,It),It.forEach(f),L=I(tt),m=p(tt,"DIV",{class:!0});var ue=g(m);D=se(ue,x),ue.forEach(f),tt.forEach(f),H=I(qe),Y=p(qe,"DIV",{class:!0});var Ge=g(Y);P=p(Ge,"DIV",{class:!0});var Qt=g(P);C=se(Qt,"Proposer: "),G=p(Qt,"SPAN",{class:!0});var Pl=g(G);S=se(Pl,k),Pl.forEach(f),Qt.forEach(f),y=I(Ge),B=p(Ge,"DIV",{class:!0});var Jt=g(B);U=se(Jt,"Proposer Pay: "),X=p(Jt,"SPAN",{class:!0});var Al=g(X);q=se(Al,K),Al.forEach(f),Jt.forEach(f),h=I(Ge),O=p(Ge,"DIV",{class:!0});var $t=g(O);A=se($t,"Document: "),Z=p($t,"A",{class:!0,target:!0,href:!0});var Tl=g(Z);ce=se(Tl,"Get File"),Tl.forEach(f),$t.forEach(f),Ge.forEach(f),oe=I(qe),Oe=p(qe,"DIV",{class:!0});var yt=g(Oe);$=p(yt,"DIV",{class:!0});var Rt=g($);Ie=se(Rt,"Arbiter: "),j=p(Rt,"SPAN",{class:!0});var ml=g(j);ae=se(ml,Q),ml.forEach(f),Se=I(Rt),Te=p(Rt,"SPAN",{class:!0});var Vt=g(Te);M=se(Vt,"("),De=se(Vt,z),lt=se(Vt,")"),Vt.forEach(f),Rt.forEach(f),rt=I(yt),ve=p(yt,"DIV",{class:!0});var el=g(ve);ht=se(el,"Arbiter Pay: "),We=p(el,"SPAN",{class:!0});var vl=g(We);at=se(vl,Me),vl.forEach(f),el.forEach(f),yt.forEach(f),Re=I(qe),Fe=p(qe,"DIV",{class:!0});var Lt=g(Fe);Le=p(Lt,"DIV",{class:!0});var tl=g(Le);$e=se(tl,"Expired At: "),ee=p(tl,"SPAN",{class:!0});var bl=g(ee);ot=se(bl,et),bl.forEach(f),tl.forEach(f),w=I(Lt),de=p(Lt,"DIV",{class:!0});var ll=g(de);ie=se(ll,"Duration: "),Ot=p(ll,"SPAN",{class:!0});var El=g(Ot);kt=se(El,Et),El.forEach(f),ll.forEach(f),Lt.forEach(f),qe.forEach(f),Mt=I(je),St=p(je,"DIV",{class:!0}),g(St).forEach(f),Ft=I(je),nt=p(je,"DIV",{class:!0});var Gt=g(nt);it=p(Gt,"DIV",{class:!0});var al=g(it);zt=se(al,"Title: "),ut=p(al,"SPAN",{class:!0});var Sl=g(ut);for(let ft=0;ft<ge.length;ft+=1)ge[ft].l(Sl);Sl.forEach(f),al.forEach(f),jt=I(Gt),ct=p(Gt,"DIV",{class:!0});var nl=g(ct);qt=se(nl,"Summary: "),dt=p(nl,"SPAN",{class:!0});var gl=g(dt);for(let ft=0;ft<Ne.length;ft+=1)Ne[ft].l(gl);gl.forEach(f),nl.forEach(f),Gt.forEach(f),Zt=I(je),ze.l(je),je.forEach(f),Yt=I(le),gt=p(le,"DIV",{class:!0}),g(gt).forEach(f),Xt=I(le),le.forEach(f),this.h()},h(){var J;d(l,"class","w-8 flex-none place-self-center"),d(E,"class","text-base font-semibold text-white underline md:text-lg"),d(c,"class","text-sm md:text-base"),d(b,"class","mt-1 text-sm md:text-base"),d(m,"class","mt-1 text-sm md:text-base"),d(o,"class","mb-3 flex basis-full flex-col md:mb-0 md:basis-2/12"),d(G,"class","text-base font-semibold text-white md:text-lg"),d(P,"class","text-sm md:text-base"),d(X,"class","text-white"),d(B,"class","mt-1 text-sm md:text-base"),d(Z,"class","text-blue-400 underline"),d(Z,"target","_blank"),d(Z,"href",me=`${Cl}/ipfs/${n[29].content_hash}/?pinataGatewayToken=${Rl}`),d(O,"class","mt-1 text-sm md:text-base"),d(Y,"class","mb-3 flex basis-full flex-col md:mb-0 md:basis-3/12"),d(j,"class","text-base font-semibold text-white md:text-lg"),d(Te,"class",Je=`${n[29].arbiter_agreed?"text-green-400":"text-yellow-400"}`),d($,"class","text-sm md:text-base"),d(We,"class","text-white"),d(ve,"class","mt-1 text-sm md:text-base"),d(Oe,"class","mb-3 flex basis-full flex-col md:mb-0 md:basis-3/12"),d(ee,"class","text-white"),d(Le,"class","text-sm md:text-base"),d(Ot,"class","text-white"),d(de,"class","mt-1 text-sm md:text-base"),d(Fe,"class","flex basis-full flex-col md:basis-3/12"),d(s,"class","mx-auto flex basis-full flex-col justify-between text-start md:flex-row md:gap-4"),d(St,"class","mx-auto mt-5 border-t-2 border-dotted border-gray-500 md:w-2/3"),d(ut,"class","text-white"),d(it,"class","text-sm md:text-base"),d(dt,"class","text-white"),d(ct,"class","mt-1 text-sm md:text-base"),d(nt,"class","mt-2 basis-full text-start"),d(a,"class",wt=`basis-full whitespace-normal break-words break-all 
								rounded-2xl border border-solid
								p-4 shadow-md md:p-5
								 ${n[19](n[29].state)} 
								${n[29].proposal_id==((J=n[2])==null?void 0:J.proposal_id)?"backdrop-brightness-200":"backdrop-brightness-125"} `),d(gt,"class","w-8 flex-none place-self-center"),d(e,"class","flex flex-row p-1")},m(J,le){W(J,e,le),i(e,l),be&&be.m(l,null),i(e,t),i(e,a),i(a,s),i(s,o),i(o,c),i(c,u),i(c,E),i(E,V),i(o,T),i(o,b),Ke(R,b,null),i(o,L),i(o,m),i(m,D),i(s,H),i(s,Y),i(Y,P),i(P,C),i(P,G),i(G,S),i(Y,y),i(Y,B),i(B,U),i(B,X),i(X,q),i(Y,h),i(Y,O),i(O,A),i(O,Z),i(Z,ce),i(s,oe),i(s,Oe),i(Oe,$),i($,Ie),i($,j),i(j,ae),i($,Se),i($,Te),i(Te,M),i(Te,De),i(Te,lt),i(Oe,rt),i(Oe,ve),i(ve,ht),i(ve,We),i(We,at),i(s,Re),i(s,Fe),i(Fe,Le),i(Le,$e),i(Le,ee),i(ee,ot),i(Fe,w),i(Fe,de),i(de,ie),i(de,Ot),i(Ot,kt),i(a,Mt),i(a,St),i(a,Ft),i(a,nt),i(nt,it),i(it,zt),i(it,ut);for(let ke=0;ke<ge.length;ke+=1)ge[ke]&&ge[ke].m(ut,null);i(nt,jt),i(nt,ct),i(ct,qt),i(ct,dt);for(let ke=0;ke<Ne.length;ke+=1)Ne[ke]&&Ne[ke].m(dt,null);i(a,Zt),ze.m(a,null),i(e,Yt),i(e,gt),i(e,Xt),Ce=!0,Kt||(cl=F(e,"click",oa),Kt=!0)},p(J,le){var je,qe,tt,Tt,Nt,It;n=J,n[2]&&n[2].proposal_id==((je=n[29])==null?void 0:je.proposal_id)?be?le[0]&5&&re(be,1):(be=Xl(),be.c(),re(be,1),be.m(l,null)):be&&(_t(),he(be,1,1,()=>{be=null}),pt()),(!Ce||le[0]&1)&&v!==(v=n[29].proposal_id+"")&&we(V,v);const ke={};if(le[0]&1&&(ke.color=n[20](n[29].state)),le[0]&1|le[1]&64&&(ke.$$scope={dirty:le,ctx:n}),R.$set(ke),(!Ce||le[0]&1)&&x!==(x=n[9](n[29])+"")&&we(D,x),(!Ce||le[0]&1)&&k!==(k=n[29].proposer+"")&&we(S,k),(!Ce||le[0]&1)&&K!==(K=n[29].proposal_pay.quantity+"")&&we(q,K),(!Ce||le[0]&1&&me!==(me=`${Cl}/ipfs/${n[29].content_hash}/?pinataGatewayToken=${Rl}`))&&d(Z,"href",me),(!Ce||le[0]&1)&&Q!==(Q=n[29].arbiter+"")&&we(ae,Q),(!Ce||le[0]&1)&&z!==(z=n[29].arbiter_agreed?"Agreed":"Waiting")&&we(De,z),(!Ce||le[0]&1&&Je!==(Je=`${n[29].arbiter_agreed?"text-green-400":"text-yellow-400"}`))&&d(Te,"class",Je),(!Ce||le[0]&1)&&Me!==(Me=n[29].arbiter_pay.quantity+"")&&we(at,Me),(!Ce||le[0]&1)&&et!==(et=rl(`${n[29].expiry}`).format("YYYY-MM-DD HH:mm:ss")+"")&&we(ot,et),(!Ce||le[0]&1)&&Et!==(Et=n[12](n[29].job_duration)+"")&&we(kt,Et),le[0]&1){Pt=mt((tt=(qe=n[29])==null?void 0:qe.title)==null?void 0:tt.split(`
`));let ue;for(ue=0;ue<Pt.length;ue+=1){const Ge=Yl(n,Pt,ue);ge[ue]?ge[ue].p(Ge,le):(ge[ue]=Kl(Ge),ge[ue].c(),ge[ue].m(ut,null))}for(;ue<ge.length;ue+=1)ge[ue].d(1);ge.length=Pt.length}if(le[0]&1){At=mt((Nt=(Tt=n[29])==null?void 0:Tt.summary)==null?void 0:Nt.split(`
`));let ue;for(ue=0;ue<At.length;ue+=1){const Ge=Zl(n,At,ue);Ne[ue]?Ne[ue].p(Ge,le):(Ne[ue]=Ql(Ge),Ne[ue].c(),Ne[ue].m(dt,null))}for(;ue<Ne.length;ue+=1)Ne[ue].d(1);Ne.length=At.length}Dt===(Dt=dl(n))&&ze?ze.p(n,le):(ze.d(1),ze=Dt(n),ze&&(ze.c(),ze.m(a,null))),(!Ce||le[0]&5&&wt!==(wt=`basis-full whitespace-normal break-words break-all 
								rounded-2xl border border-solid
								p-4 shadow-md md:p-5
								 ${n[19](n[29].state)} 
								${n[29].proposal_id==((It=n[2])==null?void 0:It.proposal_id)?"backdrop-brightness-200":"backdrop-brightness-125"} `))&&d(a,"class",wt)},i(J){Ce||(re(be),re(R.$$.fragment,J),Ce=!0)},o(J){he(be),he(R.$$.fragment,J),Ce=!1},d(J){J&&f(e),be&&be.d(),Qe(R),sl(ge,J),sl(Ne,J),ze.d(),Kt=!1,cl()}}}function Fa(n){let e,l,t,a,s,o,c,u,E,v,V,T,b,R,L,m,x;t=new _a({});const D=[Ba,xa,Ua],H=[];function Y(P,C){return P[1]?0:P[0].length==0?1:2}return o=Y(n),c=H[o]=D[o](n),T=new Ga({props:{selectedProposal:n[2]}}),T.$on("new_proposal",n[13]),T.$on("delegatevote",n[14]),T.$on("refresh",n[6]),R=new Ia({props:{isOpen:n[3],onClose:n[16],onCreateProposal:n[15]}}),m=new ka({props:{isOpen:n[4],isDelegate:n[5],onClose:n[18],onDelegate:n[17]}}),{c(){e=_("div"),l=_("div"),Ye(t.$$.fragment),a=N(),s=_("div"),c.c(),u=N(),E=_("div"),v=N(),V=_("div"),Ye(T.$$.fragment),b=N(),Ye(R.$$.fragment),L=N(),Ye(m.$$.fragment),this.h()},l(P){e=p(P,"DIV",{class:!0});var C=g(e);l=p(C,"DIV",{class:!0});var G=g(l);Xe(t.$$.fragment,G),a=I(G),s=p(G,"DIV",{class:!0});var k=g(s);c.l(k),k.forEach(f),G.forEach(f),C.forEach(f),u=I(P),E=p(P,"DIV",{class:!0}),g(E).forEach(f),v=I(P),V=p(P,"DIV",{class:!0});var S=g(V);Xe(T.$$.fragment,S),S.forEach(f),b=I(P),Xe(R.$$.fragment,P),L=I(P),Xe(m.$$.fragment,P),this.h()},h(){d(s,"class","mt-10 overflow-x-auto"),d(l,"class","container relative overflow-x-hidden"),d(e,"class","main-content py-6"),d(E,"class","left-side md:flex"),d(V,"class","right-side md:flex")},m(P,C){W(P,e,C),i(e,l),Ke(t,l,null),i(l,a),i(l,s),H[o].m(s,null),W(P,u,C),W(P,E,C),W(P,v,C),W(P,V,C),Ke(T,V,null),W(P,b,C),Ke(R,P,C),W(P,L,C),Ke(m,P,C),x=!0},p(P,C){let G=o;o=Y(P),o===G?H[o].p(P,C):(_t(),he(H[G],1,1,()=>{H[G]=null}),pt(),c=H[o],c?c.p(P,C):(c=H[o]=D[o](P),c.c()),re(c,1),c.m(s,null));const k={};C[0]&4&&(k.selectedProposal=P[2]),T.$set(k);const S={};C[0]&8&&(S.isOpen=P[3]),R.$set(S);const y={};C[0]&16&&(y.isOpen=P[4]),C[0]&32&&(y.isDelegate=P[5]),m.$set(y)},i(P){x||(re(t.$$.fragment,P),re(c),re(T.$$.fragment,P),re(R.$$.fragment,P),re(m.$$.fragment,P),x=!0)},o(P){he(t.$$.fragment,P),he(c),he(T.$$.fragment,P),he(R.$$.fragment,P),he(m.$$.fragment,P),x=!1},d(P){P&&(f(e),f(u),f(E),f(v),f(V),f(b),f(L)),Qe(t),H[o].d(),Qe(T),Qe(R,P),Qe(m,P)}}}function za(n,e,l){let t,a;bt(n,ul,h=>l(25,t=h)),bt(n,il,h=>l(26,a=h));let s=[],o=!0,c=a,u=null,E={},v=null,V=!1,T=!1,b=!1;ol(async()=>{Promise.all([L(),m()]).then(()=>{l(1,o=!1)})}),ea(async()=>{c!==a&&(c=a,l(2,u=null),l(1,o=!0),l(0,s=[]),Promise.all([L(),m()]).then(()=>{l(1,o=!1)}))});async function R(){l(2,u=null),l(1,o=!0),l(0,s=[]),Promise.all([L(),m()]).then(()=>{l(1,o=!1)})}async function L(){const h=await Aa(a.name);if(!h)return;v=h;let O=await Pa(v,a.name);O&&l(0,s=O)}async function m(){let h=await va(a.name);h&&(E=h)}function x(h){if(u&&u.proposal_id==h.proposal_id){l(2,u=null);return}else l(2,u=h)}function D(h){switch(h){case r.PROP_STATE.PENDING_APPROVAL.value:return r.PROP_STATE.PENDING_APPROVAL.name;case r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value:return r.PROP_STATE.HAS_ENOUGH_APP_VOTES.name;case r.PROP_STATE.IN_PROGRESS.value:return r.PROP_STATE.IN_PROGRESS.name;case r.PROP_STATE.PENDING_FINALIZE.value:return r.PROP_STATE.PENDING_FINALIZE.name;case r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value:return r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.name;case r.PROP_STATE.EXPIRED.value:return r.PROP_STATE.EXPIRED.name;case r.PROP_STATE.DISPUTED.value:return r.PROP_STATE.DISPUTED.name;default:return"Unknown"}}function H(h){return h.state==r.PROP_STATE.PENDING_APPROVAL.value||h.state==r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value||h.state==r.PROP_STATE.IN_PROGRESS.value?`(${h.votes.filter(A=>A.vote==r.VOTE.VOTE_PROP_APPROVE.value).length}/${E.proposal_threshold})`:h.state==r.PROP_STATE.PENDING_FINALIZE.value||h.state==r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value?`(${h.votes.filter(A=>A.vote==r.VOTE.VOTE_FINAL_APPROVE.value).length}/${E.finalize_threshold})`:""}function Y(h){return h.state==r.PROP_STATE.PENDING_APPROVAL.value||h.state==r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value||h.state==r.PROP_STATE.IN_PROGRESS.value?h.votes.filter(A=>A.vote==r.VOTE.VOTE_PROP_APPROVE.value).map(A=>A.voter).join(", "):h.state==r.PROP_STATE.PENDING_FINALIZE.value||h.state==r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value?h.votes.filter(A=>A.vote==r.VOTE.VOTE_FINAL_APPROVE.value).map(A=>A.voter).join(", "):""}function P(h){return h.state==r.PROP_STATE.PENDING_APPROVAL.value||h.state==r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value||h.state==r.PROP_STATE.IN_PROGRESS.value?h.votes.filter(A=>A.vote==r.VOTE.VOTE_PROP_DENY.value).map(A=>A.voter).join(", "):h.state==r.PROP_STATE.PENDING_FINALIZE.value||h.state==r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value?h.votes.filter(A=>A.vote==r.VOTE.VOTE_FINAL_DENY.value).map(A=>A.voter).join(", "):""}function C(h){let O=rl.duration(h,"seconds"),A=O.years(),Z=O.months(),ce=O.days(),me=O.hours(),oe=O.minutes(),Oe=O.seconds(),$="";return A>0&&($+=A+"Y "),Z>0&&($+=Z+"M "),ce>0&&($+=ce+"D "),me>0&&($+=me+"h "),oe>0&&($+=oe+"m "),Oe>0&&($+=Oe+"s"),$}function G(h){l(3,V=!0)}function k(h){var O;l(4,T=!0),l(5,b=(O=h==null?void 0:h.detail)==null?void 0:O.is_delegate)}async function S(h){if(!t){Pe.add("Please login to vote",Ae.WARNING);return}const{title:O,summary:A,arbiter:Z,proposal_pay:ce,arbiter_pay:me,content_hash:oe,id:Oe,job_duration:$}=h;let Ie=[{account:r.CONTRACT_NAME,name:r.ACTIONS.CREATE_PROPOSAL,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{proposer:String(t.actor),title:O,summary:A,arbiter:Z,proposal_pay:{quantity:`${ce.toFixed(4)} TLM`,contract:Il.CONTRACT_NAME},arbiter_pay:{quantity:`${me.toFixed(4)} TLM`,contract:Il.CONTRACT_NAME},content_hash:oe,id:Oe,category:0,job_duration:$,dac_id:a.scope}}];return await Ze(t,Ie)}function y(){l(3,V=!1)}async function B(h){if(!t){Pe.add("Please login to vote",Ae.WARNING);return}const{proposal_id:O,delegatee_custodian:A,delegate_mode:Z,category:ce}=h;let me=Z?Z==r.DELEGATE_MODE.PROPOSAL?r.ACTIONS.DELEGATE_VOTE:r.ACTIONS.DELEGATE_VOTE_CATEGORY:r.ACTIONS.UNDELEGATE_VOTE,oe=Z?Z==r.DELEGATE_MODE.PROPOSAL?{proposal_id:O,delegatee_custodian:A}:{category:ce,delegatee_custodian:A}:{category:ce},Oe=[{account:r.CONTRACT_NAME,name:me,authorization:[{actor:String(t.actor),permission:String(t==null?void 0:t.permission)}],data:{...oe,custodian:t.actor,dac_id:a.scope}}];return Ze(t,Oe)}function U(){l(4,T=!1),l(5,b=!1)}function X(h){switch(h){case r.PROP_STATE.PENDING_APPROVAL.value:return"border-purple-700 shadow-purple-700";case r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value:return"border-green-700 shadow-green-700";case r.PROP_STATE.IN_PROGRESS.value:return"border-blue-700 shadow-blue-700";case r.PROP_STATE.PENDING_FINALIZE.value:return"border-yellow-700 shadow-yellow-700";case r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value:return"border-teal-700 shadow-teal-700";case r.PROP_STATE.EXPIRED.value:return"border-gray-700 shadow-gray-700";case r.PROP_STATE.DISPUTED.value:return"border-red-700 shadow-red-700";default:return""}}function K(h){switch(h){case r.PROP_STATE.PENDING_APPROVAL.value:return"gray";case r.PROP_STATE.HAS_ENOUGH_APP_VOTES.value:return"green";case r.PROP_STATE.IN_PROGRESS.value:return"blue";case r.PROP_STATE.PENDING_FINALIZE.value:return"yellow";case r.PROP_STATE.HAS_ENOUGH_FIN_VOTES.value:return"teal";case r.PROP_STATE.EXPIRED.value:return"red";case r.PROP_STATE.DISPUTED.value:return"purple";default:return"gray"}}return[s,o,u,V,T,b,R,x,D,H,Y,P,C,G,k,S,y,B,U,X,K,h=>x(h)]}class ln extends xt{constructor(e){super(),Bt(this,e,za,Fa,Ut,{},null,[-1,-1])}}export{ln as component};
